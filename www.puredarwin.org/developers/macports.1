<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var b=window,e="chrome",f="tick",g="wtsrt_",h="tbsd_",k="tbnd_",l="start",n="_wtsrt",p="_tbnd";(function(){function m(a){this.t={};this.tick=function(a,c,d){this.t[a]=[void 0!=d?d:(new Date).getTime(),c]};this[f](l,null,a)}var a=new m;b.jstiming={Timer:m,load:a};if(b.performance&&b.performance.timing){var a=b.performance.timing,c=b.jstiming.load,d=a.navigationStart,a=a.responseStart;0<d&&a>=d&&(c[f](n,void 0,d),c[f](g,n,a),c[f](h,g))}try{a=null,b[e]&&b[e].csi&&(a=Math.floor(b[e].csi().pageT),c&&0<d&&(c[f](p,void 0,b[e].csi().startE),c[f](k,p,d))),null==a&&b.gtbExternal&&(a=b.gtbExternal.pageT()),
null==a&&b.external&&(a=b.external.pageT,c&&0<d&&(c[f](p,void 0,b.external.startE),c[f](k,p,d))),a&&(b.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="//www.google.com/images/icons/product/sites-16.ico" />
<link rel="apple-touch-icon" href="http://www.gstatic.com/sites/p/d24ef8/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d=window,e="length",h="",k="__duration__",l="function";function m(c){return document.getElementById(c)}d.byId=m;function n(c){return c.replace(/^\s+|\s+$/g,h)}d.trim=n;var p=[],q=0;d.JOT_addListener=function(c,a,b){var f=new String(q++);c={eventName:c,handler:a,compId:b,key:f};p.push(c);return f};d.JOT_removeListenerByKey=function(c){for(var a=0;a<p[e];a++)if(p[a].key==c){p.splice(a,1);break}};d.JOT_removeAllListenersForName=function(c){for(var a=0;a<p[e];a++)p[a].eventName==c&&p.splice(a,1)};
d.JOT_postEvent=function(c,a,b){var f={eventName:c,eventSrc:a||{},payload:b||{}};if(d.JOT_fullyLoaded)for(a=p[e],b=0;b<a&&b<p[e];b++){var g=p[b];g&&g.eventName==c&&(f.listenerCompId=g.compId||h,(g=typeof g.handler==l?g.handler:d[g.handler])&&g(f))}else d.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};d.JOT_delayedEvents=[];d.JOT_fullyLoaded=!1;
d.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var f=0;60<=b&&(b/=60,f=2);2<=b&&f++;return a?d.JOT_siteRelTimeStrs[f].replace(k,Math.floor(b)):d.JOT_userRelTimeStrs[f].replace(k,Math.floor(b))}; })()
</script>
<script>


var webspace = {"scottyUrl":"/_/upload","isConsumer":false,"canPublishScriptToAnyone":true,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"sharingUrlPrefix":"/_/sharing","csiReportUri":"http://csi.gstatic.com/csi","sharingPolicy":"OPENED_WITH_INDICATOR","analyticsAccountId":"UA-4515077-1","baseUri":"","name":"puredarwin","domain":"puredarwin.org","features":{"asyncPermanentDelete":false,"horizontalNavLayout":true,"folderEmbed":true,"scottyForTrogImageUpload":false,"moreBackgroundTweaks":true,"flipFolderUrls":true,"animateNavigation":true,"driveInFileCabinet":true,"skiThemeIsDefault":true,"pdfEmbedSupport":false,"animateToc":true,"siteChromeSidebarWidgetsEditDialog":true,"canonicalLinkTagInHead":false,"driveImageEmbed":true,"siteChromeSystemFooterDialog":true,"plusOneButtonOptions":true,"plusOneButton":true,"adSenseDeprecate":true,"photoAlbumsInOnePick":true,"docosHideNotificationSettings":true,"newInsertMenu":true,"skiTheme":true,"siteChromeDialogsToolbar":true,"plusBadge":false,"siteChromeHorizontalNavigationDialog":true,"youTubeEmbedSize":true,"adSenseDeprecateMsg":true,"htmlEmbed":true,"siteChromeHeaderDialog":true,"photoAlbumsGPlusUrlSupport":true,"disableGoogleVideo":true},"adsensePublisherId":"ca-pub-3519492571996731","gvizVersion":1,"siteTitle":"PureDarwin","pageSharingId":"jotspot_page","plusPageId":"","termsUrl":"http://sites.google.com/site/sites/system/app/pages/meta/terms?apps\u003d1","enableAnalytics":true,"isPublic":true,"plusPageUrl":"","homePath":"/","sharingId":"jotspot","isAdsenseEnabled":true,"adsensePromoClickedOrSiteIneligible":true,"isStartPageEnabled":true,"domainAnalyticsAccountId":""};



webspace.gadgets = {"baseUri":"/system/app/pages/gadgets"};


webspace.user = {"uid":"","renderMobile":false,"primaryEmail":"guest","sessionIndex":"","namespaceUser":false,"displayNameOrEmail":"guest","namespace":"","hasAdminAccess":false,"guest_":true,"keyboardShortcuts":true,"domain":"","hasWriteAccess":false,"dasherUser":false,"userName":"guest"};

webspace.page = {"canDeleteWebspace":null,"locale":"en","state":"","wuid":"wuid:gx:3f4424d762b79d03","pageInheritsPermissions":null,"timeZone":"America/Los_Angeles","properties":{},"type":"text","canChangePath":true,"parentWuid":"wuid:gx:57f8d6af16b5f34e","revision":32,"title":"Using MacPorts","isRtlLocale":false,"bidiEnabled":false,"siteLocale":"en","name":"macports","path":"/developers/macports","isSiteRtlLocale":false,"parentPath":"/developers"};
webspace.page.breadcrumbs = [{"title":"For developers","dir":"ltr","path":"/developers","deleted":false},{"title":"Using MacPorts","dir":"ltr","path":"/developers/macports","deleted":false}];


webspace.editorResources = {
  text: [
    'http://www.gstatic.com/sites/p/d24ef8/system/js/codemirror.js',
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/codemirror_css.css',
    'http://www.gstatic.com/sites/p/d24ef8/system/js/trog_edit__en.js',
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/trogedit.css',
    '/_/rsrc/1381649936000/system/app/css/editor.css',
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/codeeditor.css',
    '/_/rsrc/1381649936000/system/app/css/camelot/editor-jfk.css'
  ],
  sitelayout: [
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/sitelayouteditor.css'
  ]
};

var JOT_clearDotPath = 'http://www.gstatic.com/sites/p/d24ef8/system/app/images/cleardot.gif';


var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];


webspace.siteTemplateId = false;


webspace.page.currentTemplate = {"title":"Web Page","path":"/system/app/pagetemplates/text"};



var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Using MacPorts - PureDarwin" />
<meta itemprop="name" content="Using MacPorts - PureDarwin" />
<meta property="og:title" content="Using MacPorts - PureDarwin" />
<meta itemprop="image" content="/_/rsrc/1204251241201/config/app/images/customLogo/pd.png?revision=1" />
<meta property="og:image" content="/_/rsrc/1204251241201/config/app/images/customLogo/pd.png?revision=1" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="http://www.gstatic.com/sites/p/d24ef8/system/app/themes/default/standard-css-default-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1381649936000/system/app/css/overlay.css?cb=defaultundefineda150goog-ws-left" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1381649936000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Using MacPorts - PureDarwin</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<script src="//www.gstatic.com/caja/5609/caja.js"> </script>
<script src="http://www.gstatic.com/sites/p/d24ef8/system/js/jot_caja.js"> </script>
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class=""><div class="sites-header-cell-buffer-wrapper"><a href="http://sites.google.com/a/puredarwin.org/puredarwin/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="/_/rsrc/1204251241201/config/app/images/customLogo/pd.png?revision=1" alt="Logo" class="sites-logo " /></a><h2></h2></div></td><td class="sites-layout-searchbox "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/system/app/pages/search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container">
</td>
</tr>
</table> 
</div> 
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_5443624057807028" class="sites-embed"><h4 class="sites-embed-title">Navigation</h4><div class="sites-embed-content sites-sidebar-nav"><ul jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="/news" jotId="wuid:gx:117960ccf6cea3d3" class="sites-navigation-link">News</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/screenshots" jotId="wuid:gx:381949cce98f8fe1" class="sites-navigation-link">Screenshots</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/downloads" jotId="wuid:gx:19ca24e3c9b23b1a" class="sites-navigation-link">Downloads</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/contact" jotId="wuid:gx:2682c13d3d043499" class="sites-navigation-link">Contact us</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/legal" jotId="wuid:gx:77c2ee3613fb2cc2" class="sites-navigation-link">Legal</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:2258cc2a13247b09" class="sites-navigation-link">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_22101909201592207" class="sites-embed"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><img src="http://www.puredarwin.org/_/rsrc/1211558361866/config/app/images/hi-medium.jpg" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px" /> The goal of this project is to make Darwin more usable by providing an installation ISO, documentation, and add-on software. You are welcome to join #puredarwin on irc.freenode.net if you would like to join PureDarwin development and to add to this site.</div></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_8098985916003585" class="sites-embed"><h4 class="sites-embed-title">Recent site activity</h4><div class="sites-embed-content sites-sidebar-recent-activity"><ul><li><a jotid="wuid:gx:48db54bc6a1c5a93" dir="ltr" href="http://www.puredarwin.org/news/newpuredarwin9l30betarelease">New PureDarwin 1.3 beta release</a><div><span class="sites-text-secondary">edited by PD admin</span></div><div><span class="sites-text-secondary">edited by Daniel Bethe</span></div></li><li><a jotid="wuid:gx:48db54bc6a1c5a93" dir="ltr" href="http://www.puredarwin.org/news/newpuredarwin9l30betarelease">New PureDarwin 9L30 beta release</a><div><span class="sites-text-secondary">edited by Daniel Bethe</span></div><div><span class="sites-text-secondary">created by PD admin</span></div></li><li><a jotid="wuid:gx:117960ccf6cea3d3" dir="ltr" href="http://www.puredarwin.org/news">News</a><div><span class="sites-text-secondary">edited by Ferdinand Klinzer</span></div></li><li><a jotid="wuid:gx:30ad1d3f494a9d46" dir="ltr" href="http://www.puredarwin.org/developers/vmware">VMware</a><div><span class="sites-text-secondary">edited by PD admin</span></div></li><li><a jotid="wuid:gx:52a0425ce78e58d8" dir="ltr" href="http://www.puredarwin.org/news/pcnet32-driver-for-puredarwin">PCnet32 driver for PureDarwin</a><div><span class="sites-text-secondary">edited by PD admin</span></div></li><li class="sites-sidebar-recent-activity-viewall"><a href="/system/app/pages/recentChanges">View All</a></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_08458635257557034" class="sites-embed"><div class="sites-embed-content-notitle"><span jotId="content"><p><script type="text/javascript">
<!--
google_ad_client="pub-3519492571996731";
google_ad_host="pub-6693688277674466";
google_ad_width=120;
google_ad_height=600;
google_ad_format="120x600_as";
google_ad_type="text_image";
google_color_border="FFFFFF";
google_color_bg="FFFFFF";
google_color_link="000000";
google_color_url="4E7DBF";
google_color_text="5E6A72";
//-->
</script>
<script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</p></span></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A dir="ltr" href="/developers">For developers</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr">Using MacPorts</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div style="margin:5px 10px;display:inline;float:right"><a href="goog_1222698405894" imageanchor="1"><img border="0" src="http://www.puredarwin.org/_/rsrc/1222694606788/developers/macports/macports-logo-top.png" /></a></div><a href="http://www.macports.org/" rel="nofollow" target="_blank">MacPorts</a>, formerly known as DarwinPorts, is a variant of the BSD ports system for Darwin and Mac OS X.<br /><br />This page describes how to use MacPorts to create binary packages that can be deployed to PureDarwin. <span style="text-decoration:line-through">At a later time, we might try to get</span> We now have <a href="http://www.puredarwin.org/developers/macports/macportsonpuredarwin">MacPorts running on PureDarwin</a> itself. Deploying MacPorts on a PureDarwin system and building binaries there is preferable, since you will save a lot of hassle.<div><br /></div><div>
<div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed" style="width:360px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Prerequisites"><strong>1 </strong>Prerequisites</a></li><li class="goog-toc"><a href="#TOC-Installation"><strong>2 </strong>Installation</a></li><li class="goog-toc"><a href="#TOC-Configuration"><strong>3 </strong>Configuration</a></li><li class="goog-toc"><a href="#TOC-Use"><strong>4 </strong>Use</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Searching-for-a-port"><strong>4.1 </strong>Searching for a port</a></li><li class="goog-toc"><a href="#TOC-Getting-information-about-a-port-found"><strong>4.2 </strong>Getting information about a port found</a></li><li class="goog-toc"><a href="#TOC-Building-a-port"><strong>4.3 </strong>Building a port</a></li><li class="goog-toc"><a href="#TOC-puredarwin-variant"><strong>4.4 </strong>+puredarwin variant</a></li><li class="goog-toc"><a href="#TOC-Purity-checking"><strong>4.5 </strong>Purity checking</a></li><li class="goog-toc"><a href="#TOC-Updating-MacPorts"><strong>4.6 </strong>Updating MacPorts</a></li><li class="goog-toc"><a href="#TOC-Upgrading-deprecated-port-s-"><strong>4.7 </strong>Upgrading deprecated port(s)</a></li><li class="goog-toc"><a href="#TOC-Cleaning-MacPorts"><strong>4.8 </strong>Cleaning MacPorts</a></li><li class="goog-toc"><a href="#TOC-Removing-inactive-port-s-"><strong>4.9 </strong>Removing inactive port(s)</a></li></ol></li><li class="goog-toc"><a href="#TOC-Troubleshooting"><strong>5 </strong>Troubleshooting</a></li><li class="goog-toc"><a href="#TOC-Credits"><strong>6 </strong>Credits</a></li><li class="goog-toc"><a href="#TOC-Resources"><strong>7 </strong>Resources</a></li></ol></div></div></div></div>
<br /></div><h3><a name="TOC-Prerequisites"></a>Prerequisites</h3><div>For MacPorts, you need</div><div><ul><li>An Intel-based Macintosh with Max OS X 10.5 Leopard (latest version)</li><li>Xcode Tools</li><li>X11 (optional?)<br /></li></ul><div>The actual requirement might be less than that, but this is the configuration currently tested and used by us.</div><div>At a later time, we might attempt to use MacPorts on the PureDarwin system itself, but at this time our approach is to build binaries using MacPorts on the Mac and deploy these to PureDarwin.</div></div><h3><a name="TOC-Installation"></a>Installation</h3><div>On the Mac, simply download and install the latest MacPorts dmg from the <a href="http://www.macports.org/install.php" rel="nofollow" target="_blank">MacPorts download page</a>.<br />It will install the MacPorts system under <i>/opt/local/</i>.<br /><br />Instead of using binary, you can also compile tarball or svn source.<br />See  the <a href="http://www.macports.org/install.php" rel="nofollow" target="_blank">MacPorts download page</a> for more information about how to get more information around installing MacPorts.<br /><h3><a name="TOC-Configuration"></a>Configuration</h3>Since we would like MacPorts to create binary packages of the software that we build with it that can then be deployed to PureDarwin systems, we must enable the archive mode.</div><div>For that, edit the file <i>/opt/local/etc/macports/macports.conf</i> so that it contains:</div><div><br /></div><div><div><span style="font-family:courier new,monospace"><span style="font-size:small"># Create and use binary archive packages for installation/reinstallation ease </span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">portarchivemode         </span></span><span style="font-weight:bold"><span style="font-family:courier new,monospace"><span style="font-size:small">yes</span></span></span></div><div><span style="font-family:courier new;font-weight:bold"><br /></span></div><div>Since we are using .tbz2 files as thinned DarwinBuild binary roots, we'd like to create the same type of packages with MacPorts too:</div><div><br /></div><div><div><span style="font-family:courier new,monospace"><span style="font-size:small"># Supported types: tgz (default), tar, tbz, tbz2, tlz, xar, zip, cpgz, cpio</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">portarchivetype         </span></span><span style="font-weight:bold"><span style="font-family:courier new,monospace"><span style="font-size:small">tbz2</span></span></span></div></div><div><br /></div><div>MacPorts is now configured to create binary archives in the tbz2 format.</div><div><br /></div><div><b><font color="#FF0000">Important:</font></b><font color="#FF0000"> </font>Since Snow Leopard/Darwin 10, you need to explicitly set the architecture to i386 or you will get binaries that don't run on 32-bit only CPUs. The PureDarwin project is about building i386 binaries, so please make sure that you have the following in your <i>/opt/local/etc/macports/macports.conf</i>:</div><div><br /></div><div><div><font face="'courier new', monospace"><span style="font-size:small"># The machine architecture to build for in normal use.</span></font></div><div><font face="'courier new', monospace"><span style="font-size:small">build_arch</span></font><span style="white-space:pre"><font face="'courier new', monospace"><span style="font-size:small"> </span></font></span><font face="'courier new', monospace"><span style="font-size:small">i386</span></font></div><div><br /></div><div>Otherwise, you'll get 64-bit binaries that are incompatible with 32-bit only CPUs, such as Intel Core Solo, Core Duo and Atom CPUs.</div></div></div><h3><a name="TOC-Use"></a>Use</h3><h4><a name="TOC-Searching-for-a-port"></a>Searching for a port</h4><font size="2"><span style="font-family:courier new,monospace">sudo port search xfree86</span></font><br /><h4><a name="TOC-Getting-information-about-a-port-found"></a>Getting information about a port found</h4>Remember you must match the exact port name<font size="2"> (no sensitive case).<br />This is usefull to know which variants are available and which wants you would like in case<br /><br /><span style="color:rgb(0,0,0)"><span style="font-family:courier new,monospace"><span style="font-size:small">sudo port info xfree86</span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small"><br /></span></span><span style="color:rgb(68,68,68)"><div><span style="font-family:courier new,monospace"><span style="font-size:small">XFree86 @4.7.0 (x11)</span></span></div><div><div><span style="font-family:courier new,monospace"><span style="font-size:small">Variants:    darwin, macosx, puredarwin</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small"><br /></span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">The XFree86 project's X window system implementation</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">Homepage:    http://www.xfree86.org/</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small"><br /></span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">Platforms:            darwin, freebsd</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">Maintainers:          nomaintainer@macports.org</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small"><br /></span></span></div></div><div><span><span style="font-family:courier new,monospace"><span style="font-size:small">Maintainers: nomaintainer@macports.org</span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small"><br /></span></span></div></span></font><h4><a name="TOC-Building-a-port"></a>Building a port</h4>To build XFree86, for example, use:<div><br /></div><div><div><span style="font-family:courier new,monospace"><span style="font-size:small">sudo port -d archive xfree86 +puredarwin</span></span></div><div><br /></div><div>This is just an example. If you really want to build XFree86, see the <a href="http://www.puredarwin.org/developers/xfree86">XFree86</a> page for additional information.<br />This should download, compile, and after a while return</div><div> <br /><div><span style="font-family:courier new,monospace"><span style="font-size:small">---&gt;  Archive XFree86-4.7.0_0+macosx+puredarwin.i386.tbz2 packaged</span></span></div><div><br /></div><div>The resulting package should be located at <i>/opt/local/var/macports/packages/darwin/i386/XFree86-4.7.0_0+macosx+puredarwin.i386.tbz2</i> and should be ready for deployment to a PureDarwin system.</div><h4><a name="TOC-puredarwin-variant"></a>+puredarwin variant</h4><div>MacPorts includes various build targets or "variants". Here is a quick, approximate overview:</div><div><br /></div><div><div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/macports/Bild%208.png?attredirects=0" imageanchor="1"><img border="0" src="http://www.puredarwin.org/_/rsrc/1223575691028/developers/macports/Bild%208.png" /></a></div></div><div><br /></div><div>Maybe you noticed the "+puredarwin" build target in the command above. Note that "+darwin" is a superset of both "+puredarwin" and "+macosx", so binaries made using the "+darwin" variant will in many cases <span style="font-weight:bold">not</span> run on PureDarwin. </div><div><br /></div><div>It is probably fair to say that the "+puredarwin" variant in MacPorts is the most appropriate variant if you are targeting the PureDarwin distribution. </div><div>This build target may be defined in the portfile of the respective project that you are building.</div><div><br /></div><div>Talking about variants, use <span style="font-family:courier new;font-size:12px">sudo port variants XFree86 </span>in order to list them and their respective description.</div><div>The raw content of a portfile can be displayed via <span style="font-family:courier new;font-size:12px">sudo port cat XFree86</span> command.<br />The portfile of XFree86,<i> /opt/local/var/macports/sources/rsync.macports.org/release/ports/x11/XFree86/Portfile</i>, defines:</div><div><br /></div><div><div><span style="font-family:courier new,monospace"><span style="font-size:small">platform puredarwin {</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small"><br /></span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">    post-patch {  </span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">        set hostfd [open "${worksrcpath}/config/cf/host.def" a+]</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">        puts $hostfd "#define DarwinQuartzSupport NO"</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">        puts $hostfd "#define BuildGlxExt         YES"</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">        puts $hostfd "#define BuildGLXLibrary     YES"</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">        close $hostfd</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">    }</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">}</span></span></div><div><br /></div><div>Other projects might or might not need and/or have a "+puredarwin" variant.<br />If they need but lack one, please consider submitting patches for the respective portfiles.</div><div>To see which projects already have a puredarwin variant, click <a href="http://www.macports.org/ports.php?by=variant&amp;substr=puredarwin" rel="nofollow" target="_blank">here</a>.</div><div><br /></div><div>Probably you want to set MacPorts to always use the +puredarwin variant, if possible.</div><div>Do that by adding "+puredarwin" to variants.conf:</div><div><span style="border-collapse:separate"><br /></span></div><div><span style="border-collapse:separate;font-weight:bold"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="font-weight:normal">echo "+puredarwin" &gt;&gt; /opt/local/etc/macports/variants.conf</span></span></span></span></div><div><span style="border-collapse:separate;font-weight:bold"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="font-weight:normal">echo "-macosx" &gt;&gt; /opt/local/etc/macports/variants.conf</span></span></span></span></div><div><h4><a name="TOC-Purity-checking"></a>Purity checking</h4><span style="border-collapse:separate;font-weight:bold"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="font-weight:normal"><span style="border-collapse:collapse;font-family:Arial;font-size:13px">It is crucial that you <a href="http://www.puredarwin.org/developers/macports/purity">check the build results for "purity"</a>.</span></span></span></span></span><h4><a name="TOC-Updating-MacPorts"></a>Updating MacPorts</h4>Do not hesitate to "cron" it.<br />Also run it after your first installation of MacPorts.<br /><br /><font size="2"><span style="font-family:courier new,monospace">sudo port selfupdate</span></font><br /><br />After a "selfupdate", you can also list outdated port(s) (in version) with:<br /><br /><font size="2"><span style="font-family:courier new,monospace">sudo port outdated</span></font><br /><h4><a name="TOC-Upgrading-deprecated-port-s-"></a>Upgrading deprecated port(s)</h4>In order to upgrade a specific port, use:<br /><br /><font size="2"><span style="font-family:courier new,monospace">sudo port upgrade XFree86</span></font><br /><br />If you want to upgrade all deprecated ports found since the latest selfupdate:<br /><br /><font size="2"><span style="font-family:courier new,monospace">sudo port upgrade outdated</span></font><br /><h4><a name="TOC-Cleaning-MacPorts"></a>Cleaning MacPorts</h4>In order to clean a specific port, use:<br /><br /><font size="2"><span style="font-family:courier new,monospace">sudo port clean XFree86</span></font><br /><br />If you want to clean all ports:<br /><br /><font size="2"><span style="font-family:courier new,monospace">port clean all</span></font></div><h4><a name="TOC-Removing-inactive-port-s-"></a>Removing inactive port(s)</h4><span style="font-family:courier new,monospace"><span style="font-size:small">port -f uninstall inactive<span style="font-family:Arial;font-size:13px"><span style="font-family:Arial;font-size:13px"><br /><h3><a name="TOC-Troubleshooting"></a>Troubleshooting</h3></span><span style="font-weight:bold">Problem (1.6.0):</span> port rpm cairo +puredarwin -macosx returns <br />Error: Unable to execute port: invalid command name "univers...<br /><span style="font-weight:bold">Solution:</span> Apply the patch below</span></span></span></div></div></div><div><h3><a name="TOC-Credits"></a>Credits</h3>Thanks afb for lots of help with MacPorts and for the portmain.tcl patch below.<br /><h3><a name="TOC-Resources"></a>Resources</h3><a href="http://www.macports.org/" rel="nofollow" target="_blank">MacPorts.org</a><div><a href="http://www.puredarwin.org/developers/macports/port">man port</a></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages" class="sites-canvas-bottom-panel-wrapper" style="">
<div class="sites-subpages">
            Subpages <span id="subpages-total-number">(7):</span>
<span>
<a href="/developers/macports/macportsonpuredarwin" dir="ltr">Deploying MacPorts on PureDarwin</a>
</span>
<span>
<a href="/developers/macports/port" dir="ltr">MacPorts man port</a>
</span>
<span>
<a href="/developers/macports/troubleshooting" dir="ltr">MacPorts Troubleshooting</a>
</span>
<span>
<a href="/developers/macports/patching" dir="ltr">Patching MacPorts to produce binaries for PureDarwin</a>
</span>
<span>
<a href="/developers/macports/purity" dir="ltr">Purity checking</a>
</span>
<span>
<a href="/developers/macports/upgrading-a-port" dir="ltr">Upgrading a port</a>
</span>
<span>
<a href="/developers/macports/macports-dependencies-overview" dir="ltr">Visualize dependencies in MacPorts</a>
</span>
</div>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-attachments">
<div class="sites-attachments-row"><div class="sites-attachments-icon" style="left:0px;"><div class="sites-translucent sites-symbol">Č</div></div></div><div class="sites-attachments-separator"></div>
<div id="attachment-wuid:gx:221c54c1edb4ecfc"><div class="sites-attachments-row"><div class="sites-attachments-icon" style="left:5px"><div class="sites-translucent sites-symbol">ċ</div></div><a href="/developers/macports/portmain.tcl.diff?attredirects=0&amp;d=1" title="Download"><div id="attachment-download-wuid:gx:221c54c1edb4ecfc" class="sites-attachments-icon" style="right:0px"><span class="sites-symbol">ď</span></div></a><div class="sites-attachments-version"><a href="/system/app/pages/admin/revisions?wuid=wuid:gx:221c54c1edb4ecfc">v.1</a></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name">portmain.tcl.diff <div class="sites-translucent">(0k)</div></div><div class="sites-attachments-author">PD admin, <div class="sites-translucent">Oct 12, 2008, 12:08 PM</div></div></div></div><div class="sites-attachments-separator"></div></div>
<div style="height: 10px"></div>
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=http://sites.google.com/a/puredarwin.org/puredarwin/developers/macports">Sign in</a>|<a class="sites-system-link" href="/system/app/pages/reportAbuse" target="_blank">Report Abuse</a>|<a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a>|<a class="sites-system-link" href="/system/app/pages/removeAccess" target="_blank">Remove Access</a>|<span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>

<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="http://www.gstatic.com/sites/p/d24ef8/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
    
        sites.core.Analytics.createTracker();
        sites.core.Analytics.trackPageview();
      
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("5443624057807028", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_5443624057807028');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
          JOT_addListener('titleChange', 'JOT_RECENTCHANGES_titleChange', 'COMP_8098985916003585');
        </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXuiEJWuCB_LZagUAJWJE5fSAeie3STAS7tAHgFfprp4c7yEBy1lZDDGvzQs27C_KT5IMGmDfnaQbWk-5b5oPHERAAfhL87kGZGH_qCshwp-tyeA2w7XnI6NI7rJnnDIFQhf0bv9/api/js?anon=true', true, true,
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('http://www.puredarwin.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type;
                      window.jstiming.report(loadTimer, {}, 'http://csi.gstatic.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
 //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
              JOT_postEvent('renderPlus', null, 'sites-chrome-main');
            </script>
<div id="server-timer-div" style="display:none"> </div>
<script>
          window.jstiming.load.tick('render');
        </script>
</body>
</html>
