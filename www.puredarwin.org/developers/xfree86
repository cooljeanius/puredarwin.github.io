<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var b=window,e="chrome",f="tick",g="wtsrt_",h="tbsd_",k="tbnd_",l="start",n="_wtsrt",p="_tbnd";(function(){function m(a){this.t={};this.tick=function(a,c,d){this.t[a]=[void 0!=d?d:(new Date).getTime(),c]};this[f](l,null,a)}var a=new m;b.jstiming={Timer:m,load:a};if(b.performance&&b.performance.timing){var a=b.performance.timing,c=b.jstiming.load,d=a.navigationStart,a=a.responseStart;0<d&&a>=d&&(c[f](n,void 0,d),c[f](g,n,a),c[f](h,g))}try{a=null,b[e]&&b[e].csi&&(a=Math.floor(b[e].csi().pageT),c&&0<d&&(c[f](p,void 0,b[e].csi().startE),c[f](k,p,d))),null==a&&b.gtbExternal&&(a=b.gtbExternal.pageT()),
null==a&&b.external&&(a=b.external.pageT,c&&0<d&&(c[f](p,void 0,b.external.startE),c[f](k,p,d))),a&&(b.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="//www.google.com/images/icons/product/sites-16.ico" />
<link rel="apple-touch-icon" href="http://www.gstatic.com/sites/p/d24ef8/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d=window,e="length",h="",k="__duration__",l="function";function m(c){return document.getElementById(c)}d.byId=m;function n(c){return c.replace(/^\s+|\s+$/g,h)}d.trim=n;var p=[],q=0;d.JOT_addListener=function(c,a,b){var f=new String(q++);c={eventName:c,handler:a,compId:b,key:f};p.push(c);return f};d.JOT_removeListenerByKey=function(c){for(var a=0;a<p[e];a++)if(p[a].key==c){p.splice(a,1);break}};d.JOT_removeAllListenersForName=function(c){for(var a=0;a<p[e];a++)p[a].eventName==c&&p.splice(a,1)};
d.JOT_postEvent=function(c,a,b){var f={eventName:c,eventSrc:a||{},payload:b||{}};if(d.JOT_fullyLoaded)for(a=p[e],b=0;b<a&&b<p[e];b++){var g=p[b];g&&g.eventName==c&&(f.listenerCompId=g.compId||h,(g=typeof g.handler==l?g.handler:d[g.handler])&&g(f))}else d.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};d.JOT_delayedEvents=[];d.JOT_fullyLoaded=!1;
d.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var f=0;60<=b&&(b/=60,f=2);2<=b&&f++;return a?d.JOT_siteRelTimeStrs[f].replace(k,Math.floor(b)):d.JOT_userRelTimeStrs[f].replace(k,Math.floor(b))}; })()
</script>
<script>


var webspace = {"scottyUrl":"/_/upload","isConsumer":false,"canPublishScriptToAnyone":true,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"sharingUrlPrefix":"/_/sharing","csiReportUri":"http://csi.gstatic.com/csi","sharingPolicy":"OPENED_WITH_INDICATOR","analyticsAccountId":"UA-4515077-1","baseUri":"","name":"puredarwin","domain":"puredarwin.org","features":{"asyncPermanentDelete":false,"horizontalNavLayout":true,"folderEmbed":true,"scottyForTrogImageUpload":false,"moreBackgroundTweaks":true,"flipFolderUrls":true,"animateNavigation":true,"driveInFileCabinet":true,"skiThemeIsDefault":true,"pdfEmbedSupport":false,"animateToc":true,"siteChromeSidebarWidgetsEditDialog":true,"canonicalLinkTagInHead":false,"driveImageEmbed":true,"siteChromeSystemFooterDialog":true,"plusOneButtonOptions":true,"plusOneButton":true,"adSenseDeprecate":true,"photoAlbumsInOnePick":true,"docosHideNotificationSettings":true,"newInsertMenu":true,"skiTheme":true,"siteChromeDialogsToolbar":true,"plusBadge":false,"siteChromeHorizontalNavigationDialog":true,"youTubeEmbedSize":true,"adSenseDeprecateMsg":true,"htmlEmbed":true,"siteChromeHeaderDialog":true,"photoAlbumsGPlusUrlSupport":true,"disableGoogleVideo":true},"adsensePublisherId":"ca-pub-3519492571996731","gvizVersion":1,"siteTitle":"PureDarwin","pageSharingId":"jotspot_page","plusPageId":"","termsUrl":"http://sites.google.com/site/sites/system/app/pages/meta/terms?apps\u003d1","enableAnalytics":true,"isPublic":true,"plusPageUrl":"","homePath":"/","sharingId":"jotspot","isAdsenseEnabled":true,"adsensePromoClickedOrSiteIneligible":true,"isStartPageEnabled":true,"domainAnalyticsAccountId":""};



webspace.gadgets = {"baseUri":"/system/app/pages/gadgets"};


webspace.user = {"uid":"","renderMobile":false,"primaryEmail":"guest","sessionIndex":"","namespaceUser":false,"displayNameOrEmail":"guest","namespace":"","hasAdminAccess":false,"guest_":true,"keyboardShortcuts":true,"domain":"","hasWriteAccess":false,"dasherUser":false,"userName":"guest"};

webspace.page = {"canDeleteWebspace":null,"locale":"en","state":"","wuid":"wuid:gx:54946f12408d9107","pageInheritsPermissions":null,"timeZone":"America/Los_Angeles","properties":{},"type":"text","canChangePath":true,"parentWuid":"wuid:gx:57f8d6af16b5f34e","revision":70,"title":"XFree86","isRtlLocale":false,"bidiEnabled":false,"siteLocale":"en","name":"xfree86","path":"/developers/xfree86","isSiteRtlLocale":false,"parentPath":"/developers"};
webspace.page.breadcrumbs = [{"title":"For developers","dir":"ltr","path":"/developers","deleted":false},{"title":"XFree86","dir":"ltr","path":"/developers/xfree86","deleted":false}];


webspace.editorResources = {
  text: [
    'http://www.gstatic.com/sites/p/d24ef8/system/js/codemirror.js',
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/codemirror_css.css',
    'http://www.gstatic.com/sites/p/d24ef8/system/js/trog_edit__en.js',
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/trogedit.css',
    '/_/rsrc/1381649936000/system/app/css/editor.css',
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/codeeditor.css',
    '/_/rsrc/1381649936000/system/app/css/camelot/editor-jfk.css'
  ],
  sitelayout: [
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/sitelayouteditor.css'
  ]
};

var JOT_clearDotPath = 'http://www.gstatic.com/sites/p/d24ef8/system/app/images/cleardot.gif';


var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];


webspace.siteTemplateId = false;


webspace.page.currentTemplate = {"title":"Web Page","path":"/system/app/pagetemplates/text"};



var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="XFree86 - PureDarwin" />
<meta itemprop="name" content="XFree86 - PureDarwin" />
<meta property="og:title" content="XFree86 - PureDarwin" />
<meta itemprop="image" content="/_/rsrc/1204251241201/config/app/images/customLogo/pd.png?revision=1" />
<meta property="og:image" content="/_/rsrc/1204251241201/config/app/images/customLogo/pd.png?revision=1" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="http://www.gstatic.com/sites/p/d24ef8/system/app/themes/default/standard-css-default-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1381649936000/system/app/css/overlay.css?cb=defaultundefineda150goog-ws-left" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1381649936000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>XFree86 - PureDarwin</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<script src="//www.gstatic.com/caja/5609/caja.js"> </script>
<script src="http://www.gstatic.com/sites/p/d24ef8/system/js/jot_caja.js"> </script>
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class=""><div class="sites-header-cell-buffer-wrapper"><a href="http://sites.google.com/a/puredarwin.org/puredarwin/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="/_/rsrc/1204251241201/config/app/images/customLogo/pd.png?revision=1" alt="Logo" class="sites-logo " /></a><h2></h2></div></td><td class="sites-layout-searchbox "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/system/app/pages/search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container">
</td>
</tr>
</table> 
</div> 
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_5443624057807028" class="sites-embed"><h4 class="sites-embed-title">Navigation</h4><div class="sites-embed-content sites-sidebar-nav"><ul jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="/news" jotId="wuid:gx:117960ccf6cea3d3" class="sites-navigation-link">News</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/screenshots" jotId="wuid:gx:381949cce98f8fe1" class="sites-navigation-link">Screenshots</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/downloads" jotId="wuid:gx:19ca24e3c9b23b1a" class="sites-navigation-link">Downloads</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/contact" jotId="wuid:gx:2682c13d3d043499" class="sites-navigation-link">Contact us</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/legal" jotId="wuid:gx:77c2ee3613fb2cc2" class="sites-navigation-link">Legal</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:2258cc2a13247b09" class="sites-navigation-link">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_22101909201592207" class="sites-embed"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><img src="http://www.puredarwin.org/_/rsrc/1211558361866/config/app/images/hi-medium.jpg" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px" /> The goal of this project is to make Darwin more usable by providing an installation ISO, documentation, and add-on software. You are welcome to join #puredarwin on irc.freenode.net if you would like to join PureDarwin development and to add to this site.</div></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_8098985916003585" class="sites-embed"><h4 class="sites-embed-title">Recent site activity</h4><div class="sites-embed-content sites-sidebar-recent-activity"><ul><li><a jotid="wuid:gx:48db54bc6a1c5a93" dir="ltr" href="http://www.puredarwin.org/news/newpuredarwin9l30betarelease">New PureDarwin 1.3 beta release</a><div><span class="sites-text-secondary">edited by PD admin</span></div><div><span class="sites-text-secondary">edited by Daniel Bethe</span></div></li><li><a jotid="wuid:gx:48db54bc6a1c5a93" dir="ltr" href="http://www.puredarwin.org/news/newpuredarwin9l30betarelease">New PureDarwin 9L30 beta release</a><div><span class="sites-text-secondary">edited by Daniel Bethe</span></div><div><span class="sites-text-secondary">created by PD admin</span></div></li><li><a jotid="wuid:gx:117960ccf6cea3d3" dir="ltr" href="http://www.puredarwin.org/news">News</a><div><span class="sites-text-secondary">edited by Ferdinand Klinzer</span></div></li><li><a jotid="wuid:gx:30ad1d3f494a9d46" dir="ltr" href="http://www.puredarwin.org/developers/vmware">VMware</a><div><span class="sites-text-secondary">edited by PD admin</span></div></li><li><a jotid="wuid:gx:52a0425ce78e58d8" dir="ltr" href="http://www.puredarwin.org/news/pcnet32-driver-for-puredarwin">PCnet32 driver for PureDarwin</a><div><span class="sites-text-secondary">edited by PD admin</span></div></li><li class="sites-sidebar-recent-activity-viewall"><a href="/system/app/pages/recentChanges">View All</a></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_08458635257557034" class="sites-embed"><div class="sites-embed-content-notitle"><span jotId="content"><p><script type="text/javascript">
<!--
google_ad_client="pub-3519492571996731";
google_ad_host="pub-6693688277674466";
google_ad_width=120;
google_ad_height=600;
google_ad_format="120x600_as";
google_ad_type="text_image";
google_color_border="FFFFFF";
google_color_bg="FFFFFF";
google_color_link="000000";
google_color_url="4E7DBF";
google_color_text="5E6A72";
//-->
</script>
<script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</p></span></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A dir="ltr" href="/developers">For developers</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr">XFree86</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div style="display:inline;float:right;margin-top:5px;margin-right:10px;margin-bottom:5px;margin-left:10px"><a href="http://www.puredarwin.org/developers/xfree86/Xfree86.logo.gif?attredirects=0" imageanchor="1" style="outline-style:none;outline-width:initial;outline-color:initial;color:rgb(85,26,139)"><img border="0" height="100" src="http://www.puredarwin.org/_/rsrc/1222686502548/developers/xfree86/Xfree86.logo.gif?height=100&amp;width=200" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-style:initial;border-color:initial" width="200" /></a></div><div>This page is about <a href="http://www.xfree86.org/" rel="nofollow" target="_blank">XFree86</a> on Darwin.<br />
<div style="margin:5px 10px;display:inline;float:right"><span style="color:rgb(85,26,139);text-decoration:underline"><br /></span></div>
<br />
<div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed" style="width:400px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-XFree86-4.7.0"><strong>1 </strong>XFree86 4.7.0</a></li><li class="goog-toc"><a href="#TOC-XFree86-in-MacPorts"><strong>2 </strong>XFree86 in MacPorts</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Compiling-XFree86-for-PureDarwin"><strong>2.1 </strong>Compiling XFree86 for PureDarwin</a></li><li class="goog-toc"><a href="#TOC-Compiling-FreeType-for-PureDarwin"><strong>2.2 </strong>Compiling FreeType for PureDarwin</a></li><li class="goog-toc"><a href="#TOC-Installing-XFree86-on-PureDarwin"><strong>2.3 </strong>Installing XFree86 on PureDarwin</a></li></ol></li><li class="goog-toc"><a href="#TOC-Screenshots"><strong>3 </strong>Screenshots</a></li><li class="goog-toc"><a href="#TOC-Troubleshooting"><strong>4 </strong>Troubleshooting</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Conflicting-usr-X11R6"><strong>4.1 </strong>Conflicting /usr/X11R6</a></li><li class="goog-toc"><a href="#TOC-MAXHOSTNAMELEN-undeclared"><strong>4.2 </strong>MAXHOSTNAMELEN undeclared</a></li><li class="goog-toc"><a href="#TOC-decompress.c-error"><strong>4.3 </strong>decompress.c error</a></li><li class="goog-toc"><a href="#TOC-Cannot-establish-any-listening-sockets"><strong>4.4 </strong>Cannot establish any listening sockets</a></li><li class="goog-toc"><a href="#TOC-Missing-keymap"><strong>4.5 </strong>Missing keymap</a></li><li class="goog-toc"><a href="#TOC-Font-related-problem-when-launching-xterm"><strong>4.6 </strong>Font-related problem when launching xterm</a></li><li class="goog-toc"><a href="#TOC-Failed-to-connect-to-the-HID-system"><strong>4.7 </strong>Failed to connect to the HID system</a></li><li class="goog-toc"><a href="#TOC-No-screens-found"><strong>4.8 </strong>No screens found</a></li><li class="goog-toc"><a href="#TOC-assert-failed-on-line-416-of-xfIOKit.c-"><strong>4.9 </strong>assert failed on line 416 of xfIOKit.c!</a></li></ol></li><li class="goog-toc"><a href="#TOC-Resources"><strong>5 </strong>Resources</a></li></ol></div></div></div></div>
<br />
<h3><a name="TOC-XFree86-4.7.0"></a>XFree86 4.7.0</h3>
<div>XFree86 is another X11 implementation besides <a href="http://www.puredarwin.org/developers/xorg">X.Org</a>. Version 4.7.0 was released in 2007.</div>
<div>Most binaries you can find on the net (e.g., in fink) are built for Mac OS X, and will fail to run on PureDarwin since they depend on closed frameworks such as ApplicationServices. Hence, we need to compile XFree86 specifically for PureDarwin, and MacPorts can help us with this task.</div>
<tt><font size="-1"><span style="font-family:Arial;font-size:13px">
<h3><a name="TOC-XFree86-in-MacPorts"></a>XFree86 in MacPorts</h3>
MacPorts contains a portfile which can be used to compile XFree86 for PureDarwin. In old release notes, it is stated that "<i>Darwin/Mac OS X uses IOKit drivers and does not use the module loader drivers listed above. Further information can be found in <a href="http://cvsweb.xfree86.org/cvsweb/xc/programs/Xserver/hw/xfree86/doc/README.Darwin?rev=1.28&amp;content-type=text/vnd.viewcvs-markup" rel="nofollow" style="color:rgb(0,102,204);outline-style:none;outline-width:initial;outline-color:initial">README.Darwin</a></i>". Also take a look at <a href="http://www.puredarwin.org/developers/macports">Using the MacPorts project</a> page for more information about MacPorts.</span></font></tt>
<div><tt><font size="-1">
<div>
<span><span style="font-family:arial,sans-serif"><span style="font-size:small">The portfile shows the following information about Xfree86, among other things:</span></span></span></div>
<div style="color:rgb(0,0,0)"><span style="font-family:courier new"><br />
</span></div>
<div style="color:rgb(0,0,0)"><span style="font-family:courier new,monospace"><span style="font-size:small">port info XFree86</span></span></div>
<div><span style="font-family:Arial;font-size:13px">
<div style="color:rgb(68,68,68)"><span style="font-family:courier new,monospace"><span style="font-size:small">XFree86 4.7.0, x11/XFree86 (Variants: darwin, <span style="font-weight:bold">puredarwin</span>, macosx)</span></span></div>
<div style="color:rgb(68,68,68)"><span style="font-family:courier new;font-size:12px">(...)</span></div>
<div style="color:rgb(68,68,68)"><span style="font-family:courier new,monospace"><span style="font-size:small">Platforms: darwin freebsd</span></span></div>
<div><br />
</div>
<div>In the case of <font size="2"><span style="font-family:courier new,monospace">+puredarwin</span></font> variant is choosen, this is what happens:</div>
<div><br />
</div>
<div>
<div><span style="font-family:courier new;font-size:12px"><div><span style="font-family:courier new,monospace"><span style="font-size:small">platform puredarwin {</span></span></div><div><br /></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">    post-patch {  </span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">        set hostfd [open "${worksrcpath}/config/cf/host.def" a+]</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">        puts $hostfd "#define DarwinQuartzSupport NO"</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">        puts $hostfd "#define BuildGlxExt         YES"</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">        puts $hostfd "#define BuildGLXLibrary     YES"</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">        close $hostfd</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">    }</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">}</span></span></div></span></div>
</div>
<div>
<h4><a name="TOC-Compiling-XFree86-for-PureDarwin"></a>Compiling XFree86 for PureDarwin</h4>
<div>We are using MacPorts on a Mac and transfer the final build products to a PureDarwin system thereafter, as described on the <a href="http://www.puredarwin.org/developers/macports">MacPorts</a> page. Later, we will be able to bootstrap MacPorts on PureDarwin in order to provide products built on a PureDarwin system for a PureDarwin system.</div><div><br /></div><div><span style="text-decoration:underline">Note:</span> You should configure MacPorts to procuce tbz2 archives as described on that page.</div>
<div><br />
</div>
Add <span style="font-family:courier new,monospace"><span style="font-size:small">-v</span></span> for verbose output.</div>
<div><br />
</div>
<div>First, you need to move a symlink to Apple's X.Org (X11.app) so that it doesn't interfere with XFree86 from MacPorts:</div>
<div><span style="color:rgb(68,68,68);font-family:courier new;font-size:12px"><br />
</span></div>
<div><span style="color:rgb(68,68,68);font-family:courier new;font-size:12px">sudo mv /usr/X11R6 /usr/X11R6.apple</span></div>
</span></div>
<div><br />
</div>
<div><span style="font-family:Arial;font-size:13px">
<div><span style="color:rgb(68,68,68);font-family:courier new;font-size:12px">
<div style="font-family:arial,sans-serif"><span style="color:rgb(0,0,0);font-family:Helvetica;font-size:13px"><span style="color:rgb(255,0,0);font-size:12px"><span style="color:rgb(0,0,0);font-size:13px">Then do:</span></span></span></div>
<div>
<div>
<div>
<div>
<div><span style="color:rgb(0,0,0);font-family:Helvetica">
<div>
<div>
<div>
<div><br />
</div>
<div><span style="font-family:courier new">port archive xfree86 +puredarwin</span></div>
<div><span style="font-size:13px"><br />
</span></div>
<div><span style="font-size:13px">If the build succeeds, you should see:</span></div>
<div><span style="font-size:13px"><br />
</span></div>
<div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">Warning: XFree86 requests to install files outside the common directory structure!</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">---&gt;  Installing XFree86 4.7.0_0+macosx+puredarwin</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">---&gt;  Activating XFree86 4.7.0_0+macosx+puredarwin</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">---&gt;  Cleaning XFree86</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">---&gt;  Removing build directory for XFree86</span></span></span></div>
<div>
<div>
<div><br />
</div>
<div><span style="font-family:courier new"><span style="color:rgb(68,68,68)">
<div><font size="2"><span style="font-family:Helvetica"><span style="color:rgb(0,0,0)">On Mac OS X, the symbolic link created with MacPorts is wrong.</span></span></font></div>
<div><span style="color:rgb(0,0,0);font-family:Helvetica;font-size:13px"><br />
</span></div>
<div><span style="font-family:Helvetica">
<div><span style="color:rgb(0,0,0)"><span style="font-family:courier new,monospace"><span style="font-size:small">ln -fs /usr/X11R6/bin/XDarwin /Applications/MacPorts/XDarwin.app</span></span> should resolve the link.</span></div>
<div><span style="color:rgb(0,0,0)"><br />
</span></div>
<div><span style="color:rgb(0,0,0)"><span style="font-family:arial,sans-serif"><span style="font-size:small">Before we install XFree86, let's build some libraries that are needed by many applications that run on X. </span></span></span></div>
<div><span style="color:rgb(0,0,0)"><span style="color:rgb(68,68,68);font-family:Helvetica;font-size:12px"><span style="font-family:arial,sans-serif"><span style="font-size:small">
</span></span><h4 style="background-color:transparent;color:rgb(0,0,0);font-family:Arial,Verdana,sans-serif;font-size:14px;margin-top:10px;margin-right:10px;margin-bottom:10px;margin-left:0px"><a name="TOC-Compiling-FreeType-for-PureDarwin"></a>Compiling FreeType for PureDarwin</h4>
<div><span style="font-family:arial,sans-serif"><span style="font-size:small">Many graphical applications need freetyp, so we need to compile it in a way that it can be used on PureDarwin.</span></span></div>
<div><span style="font-family:arial,sans-serif"><span style="font-size:small">We need to patch the Portfile with</span></span></div>
<div>
<div><br />
</div>
<div><span style="font-family:courier new,monospace">sed -i 's|--with-old-mac-fonts|--without-ats|g' \<br />
/opt/local/var/macports/sources/*/release/ports/print/freetype/Portfile</span></div>
<div><br />
</div>
<div><span style="color:rgb(255,0,0)"><span style="font-size:small">TODO: the portfile should get a "puredarwin" section that sets this option automatically.</span></span></div>
<div><span style="font-size:small">Build it with</span></div>
<div><span style="font-size:small"><br /></span>
</div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">sudo /opt/local/bin/port archive freetype +puredarwin</span></span></div>
<div><span style="font-size:small"><br /></span>
</div>
<div><span style="font-size:small">To be sure, check that the output of</span></div>
<div><span style="font-size:small"><br /></span>
</div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">/opt/local/var/macports/sources/*/release/ports/print/freetype/work/destroot/opt/local/bin/freetype-config --libs</span></span></div>
<div><span style="font-size:small"><br /></span>
</div>
<div><span style="font-size:small">does not contain ApplicationServices or other proprietary frameworks.</span></div><div><span style="font-size:small">The following output is fine</span></div>
<div><span style="font-size:small"><br /></span>
</div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">-L/opt/local/lib -lfreetype -lz</span></span></div>
<div><span style="font-size:small"><br /></span>
</div>
<div><span style="font-size:small">whereas this would not be fine</span></div>
<div><span style="font-size:small"><br /></span>
</div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">-L/opt/local/lib -lfreetype -lz -Wl,-framework,CoreServices -Wl,-framework,ApplicationServices</span></span></div>
</div>
<div>
<div style="display:block;text-align:left">
<div>
<h4 style="background-color:transparent;color:rgb(0,0,0);font-family:Arial,Verdana,sans-serif;font-size:14px;margin-top:10px;margin-right:10px;margin-bottom:10px;margin-left:0px"><a name="TOC-Installing-XFree86-on-PureDarwin"></a>Installing XFree86 on PureDarwin</h4></div></div></div></span></span></div></span></div></span></span></div>
</div>
<div><font size="2">First, install on your PureDarwin system what you have compiled above.</font></div><div><span style="font-size:13px"><br /></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">cd /Volumes/PureDarwin</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">tar xfvj /opt/local/var/macports/packages/darwin/i386/XFree86-4.7.0_0+macosx+puredarwin.i386.tbz2</span></span></div><div><span><span style="font-size:small"><span style="font-family:courier new,monospace">tar xfvj /o</span><span style="font-family:courier new,monospace">pt/local/var/</span><span style="font-family:courier new,monospace">macports/packages/darwin/i386/freetype-2.3.7_1.i386.tbz2</span></span></span></div><div><span><span style="font-family:courier new,monospace">curl http://src.macosforge.org/BinaryDrivers/8C46/GraphicsDrivers.root.tar.gz &gt; GraphicsDrivers.root.tar.gz</span></span></div><div><span><span style="font-family:courier new,monospace">tar xfvz GraphicsDrivers.root.tar.gz</span></span></div><div><span><span style="font-family:courier new,monospace">curl http://src.macosforge.org/Roots/9C31/IOGraphics.root.tar.gz &gt; IOGraphics.root.tar.gz</span></span></div><div><div><span style="font-family:courier new,monospace">tar xfvz IOGraphics.root.tar.gz </span></div></div><div><br /></div>
<div><font size="2">The compiled XFree86 from the MacPorts project has the following library dependencies. Make sure these are present on your PureDarwin system:</font></div>
<ul>
<li><span style="font-size:small"><span style="font-family:arial,sans-serif">libfreetype.6.dylib</span></span></li>
<li><span style="font-size:small"><span style="font-family:arial,sans-serif">usr/lib/libz.1.dylib</span></span></li>
<li><span style="font-size:small"><span style="font-family:arial,sans-serif">/System/Library/Frameworks/IOKit.framework/Versions/A/IOKit</span></span></li>
<li><span style="font-size:small"><span style="font-family:arial,sans-serif">/usr/lib/libgcc_s.1.dylib</span></span></li>
<li><span style="font-size:small"><span style="font-family:arial,sans-serif">/usr/lib/libSystem.B.dylib</span></span></li>
</ul>
</div>
<div>
<div><span style="font-size:13px">Furthermore, you need to download some keymaps from <a href="http://www.xdarwin.org/keymappings/" rel="nofollow" style="color:rgb(0,102,204);outline-style:none;outline-width:initial;outline-color:initial" target="_blank">XDarwin.org</a> site (These will have to be integrated in a more nicely way. <span style="color:rgb(255,0,0)">TODO: Have them in MacPorts</span>). When you launch X, you can specify an alternative keymap used at the command line.</span></div>
<div>
<div style="display:block;text-align:left">
<div style="display:block;text-align:left"><span style="font-size:13px"><br />
</span></div>
<div style="display:block;text-align:left"><span><span style="font-size:small">You also need to have in the PureDarwin system:</span></span><span style="font-size:small"><br /></span>
<ul>
<li><span style="font-size:13px">IOGraphicsFamily.kext (from DarwinBuild)</span></li>
<li><span style="font-size:13px"><a href="http://www.puredarwin.org/downloads" target="_blank">VMwareIOFramebuffer.kext</a> (optional - if using VMware; from the VMware Tools)</span></li></ul></div><div style="display:block;text-align:left">
<div><font size="2"><span style="font-family:Arial;font-size:14px;font-weight:bold">Running XFree86 on PureDarwin</span></font></div>
<div><span style="font-size:13px"><br />
</span></div>
<div style="display:block;text-align:left"><span style="font-size:13px">Make sure the KEXTs are loaded:</span></div><div style="display:block;text-align:left"><br /></div><div style="display:block;text-align:left"><div style="display:block;text-align:left"><span style="font-family:courier new,monospace"><span style="font-size:small">kextload /System/Library/Extensions/IOGraphicsFamily.kext</span></span></div><div style="display:block;text-align:left"><span style="font-family:courier new,monospace"><span style="font-size:small">kextload /System/Library/Extensions/VMwareIOFramebuffer.kext</span></span></div><div><br /></div><div><font size="2">Additionally, in order to add your keyboard, mouse and/or trackpad support for XFree86, you should load the corresponding kernel extension. In case of PS2, take a look at the <a href="http://www.puredarwin.org/developers/xnu/ps2-controller">PS2 Controller</a> page.</font></div><div><font face="'courier new', monospace"><span style="font-size:small"><font face="Helvetica, Verdana, sans-serif" size="3"><span style="font-size:13px"><br /></span></font></span></font></div><div><font size="2"><span style="text-decoration:underline">Notes</span>: USB mouse and Apple MacBook trackpad works. PS2 not (yet) tested.</font></div><div><span style="font-size:13px"><br /></span></div><div><span style="font-size:13px"><span style="font-size:12px"><div>Launch X with</div></span></span></div></div>
<div><br />
</div>
<div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">mount -uw / # need to be rw so that /tmp/.tX0-lock and /tmp/.X11-unix socket can be created</span></span></span></div><div><span style="font-family:courier new,monospace"><span><span style="font-size:small">export PATH=/usr/X11R6/bin:$PATH</span></span></span></div><div><span style="font-family:courier new,monospace"><span><span style="font-size:small">export DISPLAY=:0.0</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">X -nolisten tcp -size 800 600 -keymap USA.keymapping &amp; sleep 3 &amp;&amp; xeyes</span></span></span></div>
<div><br />
</div>
<div>
<div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/xorg/XFree86%204.7.0%20xeyes%20vmware.png?attredirects=0" imageanchor="1"><img border="0" height="342" src="http://www.puredarwin.org/_/rsrc/1222645430661/developers/xorg/XFree86%204.7.0%20xeyes%20vmware.png?height=342&amp;width=420" width="420" /></a></div>
</div>
<div>
<div>
<h3><a name="TOC-Screenshots"></a>Screenshots</h3>
</div>
<div>The oldschool <span style="font-style:italic">twm</span> remains functional.</div>
<div><br />
</div>
<div>
<div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/xfree86/XFree86%20on%20puredarwin%20nano.png?attredirects=0" imageanchor="1"><img border="0" height="337" src="http://www.puredarwin.org/_/rsrc/1223002130567/developers/xfree86/XFree86%20on%20puredarwin%20nano.png?height=337&amp;width=420" width="420" /></a></div>
<div style="display:block;text-align:left"><br />
</div>
<div style="display:block;text-align:left"><br /></div><div style="display:block;text-align:left">Also the minimalist <span style="font-style:italic">wmii.</span></div>
<div style="display:block;text-align:left"><br />
</div>
<div style="display:block;text-align:left">
<div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/xfree86/wmii%20XFree86%20wmware.png?attredirects=0" imageanchor="1"><img border="0" height="277" src="http://www.puredarwin.org/_/rsrc/1223036210964/developers/xfree86/wmii%20XFree86%20wmware.png?height=277&amp;width=420" width="420" /></a></div><div style="display:block;text-align:left"><br /></div>
<div style="display:block;text-align:left"><br />
</div>
<div style="display:block;text-align:left">
<div><span style="font-size:13px"><span style="font-style:italic">glxgears</span> appears to work and performances are not so bad inside a vm.</span></div>
<div><span style="font-size:13px"><br />
</span></div>
<div>
<div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/xfree86/glxgears%20XFree86%20vmware.png?attredirects=0" imageanchor="1" style="color:rgb(0,102,204);outline-style:none;outline-width:initial;outline-color:initial"><img border="0" height="279" src="http://www.puredarwin.org/_/rsrc/1223036971869/developers/xfree86/glxgears%20XFree86%20vmware.png?height=279&amp;width=420" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-style:initial;border-color:initial" width="420" /></a></div><div style="display:block;text-align:left"><br /></div>
<div style="display:block;text-align:left"><br />
</div>
<div style="display:block;text-align:left"><span style="font-style:italic">Fluxbox</span> now!</div>
<div style="display:block;text-align:left"><br />
</div>
<div style="display:block;text-align:left">
<div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/xfree86/fluxbox%20XFree86%20vmware.png?attredirects=0" imageanchor="1"><img border="0" height="278" src="http://www.puredarwin.org/_/rsrc/1223054667768/developers/xfree86/fluxbox%20XFree86%20vmware.png?height=278&amp;width=420" width="420" /></a></div>
<div style="display:block;text-align:left"><br />
</div>
<div style="display:block;text-align:left">
<div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/xfree86/xterm%20fluxbox%20bis%20XFree86%20vmware.png?attredirects=0" imageanchor="1"><img border="0" height="277" src="http://www.puredarwin.org/_/rsrc/1223058912929/developers/xfree86/xterm%20fluxbox%20bis%20XFree86%20vmware.png?height=277&amp;width=420" width="420" /></a></div><div style="display:block;text-align:left"><br /></div>
<div style="display:block;text-align:left"><br />
</div>
<div style="display:block;text-align:left"><span style="font-style:italic">Windowmaker</span> compiles and runs like a charm as soon as we get rid of problematic dependencies.</div>
<div style="display:block;text-align:left"><br />
</div>
<div style="display:block;text-align:left">
<div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/xfree86/windowmaker%20XFree86%20vmware.png?attredirects=0" imageanchor="1"><img border="0" height="278" src="http://www.puredarwin.org/_/rsrc/1223112720564/developers/xfree86/windowmaker%20XFree86%20vmware.png?height=278&amp;width=420" width="420" /></a></div><div style="display:block;text-align:left"><br /></div><div style="display:block;text-align:left"><br /></div><div style="display:block;text-align:left">Idem for <span style="font-style:italic">enlightenment</span> 17.</div><div style="display:block;text-align:left"><br /></div><div style="display:block;text-align:left"><div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/xfree86/enlightenment%20starting%20in%20XFree86%20in%20vmware.png?attredirects=0" imageanchor="1"><img border="0" height="276" src="http://www.puredarwin.org/_/rsrc/1223252476544/developers/xfree86/enlightenment%20starting%20in%20XFree86%20in%20vmware.png?height=276&amp;width=420" width="420" /></a></div><br /></div><div style="display:block;text-align:left"><div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/xfree86/enlightenment%20XFree86%20vmware.png?attredirects=0" imageanchor="1"><img border="0" height="278" src="http://www.puredarwin.org/_/rsrc/1223252291709/developers/xfree86/enlightenment%20XFree86%20vmware.png?height=278&amp;width=420" width="420" /></a></div><div style="display:block;text-align:left"><br /></div><div style="display:block;text-align:left"><br /></div><div style="display:block;text-align:left"><span style="font-style:italic">qt3</span> and <span style="font-style:italic">qt4-x11</span> are almost ok.</div><div style="display:block;text-align:left"><br /></div><div style="display:block;text-align:left"><div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/xfree86/filelight%20with%20qt3.png?attredirects=0" imageanchor="1"><img border="0" height="337" src="http://www.puredarwin.org/_/rsrc/1223416292080/developers/xfree86/filelight%20with%20qt3.png?height=337&amp;width=420" width="420" /></a></div><div style="display:block;text-align:left"><br /></div><div style="display:block;text-align:left"><div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/xfree86/some%20qt3%20apps.png?attredirects=0" imageanchor="1"><img border="0" height="332" src="http://www.puredarwin.org/_/rsrc/1223416289644/developers/xfree86/some%20qt3%20apps.png?height=332&amp;width=420" width="420" /></a></div><br /></div><br /></div></div></div></div></div></div></div></div></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</span></div>
</div>
</div>
</div>
</div>
</span></div>
</span></div>
</font></tt>
<div>
<h3><a name="TOC-Troubleshooting"></a>Troubleshooting</h3>
<h4><a name="TOC-Conflicting-usr-X11R6"></a>Conflicting /usr/X11R6</h4></div><div><span style="color:rgb(68,68,68);font-family:courier new;font-size:12px"><div><span style="color:rgb(0,0,0)"><span style="font-family:Arial;font-size:13px;font-weight:bold">Problem:</span></span></div><div><span style="color:rgb(0,0,0)">port install xfree86 +puredarwin</span></div></span><div><font size="2"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"><span style="color:rgb(0,0,0)">[...]</span></span></span></span></font></div><div><font size="2"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">---&gt;  Fetching XFree86</span></span></span></font></div>
<div><font size="2"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">Error: Target org.macports.fetch returned: </span></span></span></font></div>
<div><font size="2"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"><br />
</span></span></span></font></div>
<div><font size="2"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">                    You have an Apple X11 installation already.</span></span></span></font></div>
<div><font size="2"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">                        MacPorts will not overwrite it.</span></span></span></font></div>
<div><font size="2"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"><br />
</span></span></span></font></div>
<div><font size="2"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">                    If you really want to use XFree86 instead,</span></span></span></font></div>
<div><font size="2"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">                        please move it aside first :</span></span></span></font></div>
<div><font size="2"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"><br />
</span></span></span></font></div>
<div><font size="2"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">                            sudo mv /usr/X11R6 /usr/X11R6.apple</span></span></span></font></div>
<div><font size="2"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"> </span></span></span></font></div>
<span style="font-family:Helvetica;font-size:12px;font-weight:normal"><span style="color:rgb(68,68,68);font-family:courier new">Error: Status 1 encountered during processing.</span></span></div><div><span style="font-family:Helvetica;font-size:12px"><br /></span></div><div><span style="font-family:Helvetica;font-size:12px"><span style="font-weight:bold"><span style="font-family:Arial;font-size:13px">Solution</span>:</span></span></div><div><span style="font-family:Helvetica;font-size:12px;font-weight:normal"><span style="color:rgb(68,68,68);font-family:courier new">sudo mv /usr/X11R6 /usr/X11R6.apple</span></span>
<span style="color:rgb(68,68,68);font-family:courier new;font-size:12px">
<h4><a name="TOC-MAXHOSTNAMELEN-undeclared"></a>MAXHOSTNAMELEN undeclared</h4>
<div><span style="color:rgb(0,0,0)"><span style="font-family:Arial;font-size:13px;font-weight:bold">Problem:</span></span></div><div><span style="color:rgb(0,0,0)">port install xfree86 +puredarwin</span></div><div style="font-family:arial,sans-serif"><span style="font-family:courier new"><span style="font-size:small"><span style="font-family:courier new,monospace"><span style="color:rgb(0,0,0)">[...]</span></span></span></span></div><div style="font-family:arial,sans-serif"><span style="font-family:courier new"><span style="font-size:small"><span style="font-family:courier new,monospace">/usr/bin/cc -c -Wall -Wpointer-arith -no-cpp-precomp -fno-common  -I.   -I../../exports/include   "-I/opt/local/var/macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_ports_x11_XFree86/work/include" -D__i386__ -D__DARWIN__                                 -DNO_ALLOCA -DCSRG_BASED    -DXTHREADS  -D_REENTRANT -DXUSE_MTSAFE_API -DXNO_MTSAFE_UNISTDAPI      -DHAS_SNPRINTF -DLIBX11</span></span><span style="white-space:pre"><span style="font-size:small"><span style="font-family:courier new,monospace"> </span></span></span><span style="font-size:small"><span style="font-family:courier new,monospace">-DPOSTLOCALELIBDIR=\"lib\"  </span></span><span style="white-space:pre"><span style="font-size:small"><span style="font-family:courier new,monospace"> </span></span></span><span style="font-size:small"><span style="font-family:courier new,monospace">-Os -fno-strict-aliasing  -I../../lib/xtrans -DTCPCONN -DUNIXCONN  -DHAS_STICKY_DIR_BIT -DHAS_FCHOWN -DIPv6 -DBSD44SOCKETS -DX11_t -DTRANS_CLIENT  x11trans.c -o unshared/x11trans.o</span></span></span></div><div>
<div><font><span style="font-size:small"><span style="font-family:courier new,monospace">In file included from x11trans.c:82:</span></span></font></div>
<div><font><span style="font-size:small"><span style="font-family:courier new,monospace">../../lib/xtrans/Xtranssock.c:1378: error: 'MAXHOSTNAMELEN' undeclared here (not in a function)</span></span></font></div>
<div><font><span style="font-size:small"><span style="font-family:courier new,monospace">make[4]: *** [x11trans.o] Error 1</span></span></font></div>
<div><font><span style="font-size:small"><span style="font-family:courier new,monospace">make[3]: *** [all] Error 1</span></span></font></div>
<div><font><span style="font-size:small"><span style="font-family:courier new,monospace">make[2]: *** [all] Error 1</span></span></font></div>
<div><font><span style="font-size:small"><span style="font-family:courier new,monospace">make[1]: *** [World] Error 2</span></span></font></div>
<div><font><span style="font-size:small"><span style="font-family:courier new,monospace">make: *** [World] Error 2</span></span></font></div>
<div><font><span style="font-size:small"><span style="font-family:courier new,monospace"><br />
</span></span></font></div>
<div><font><span style="font-size:small"><span style="font-family:courier new,monospace">Error: Status 1 encountered during processing.</span></span></font></div>
<div><br />
</div>
<div style="font-family:arial,sans-serif"><span style="font-family:courier new"><font size="2"><span style="font-family:arial,sans-serif"><span style="color:rgb(0,0,0)"><span style="font-weight:bold"><span style="font-family:Arial">Solution</span>:</span></span></span></font></span></div>
<div style="font-family:arial,sans-serif"><span style="font-family:courier new"><font size="2"><span style="font-family:arial,sans-serif"><span style="color:rgb(0,0,0)">The corresponding ticket </span></span></font><font size="2" style="font-family:arial,sans-serif"><span style="font-size:13px"><span style="font-size:12px"><span><span style="font-size:small"><a href="https://trac.macports.org/ticket/13895" rel="nofollow" style="outline-style:none;outline-width:initial;outline-color:initial;color:rgb(85,26,139)"><span style="color:rgb(0,0,0)">#13895</span></a><span style="color:rgb(0,0,0)"> of the error just above has been resolved.</span></span></span></span></span></font></span></div>
<div>
<div>
<div><span style="font-family:arial;font-size:13px"><span style="color:rgb(0,0,0)">Patch is also available in ticket </span><span style="color:rgb(0,0,0)"><a href="https://trac.macports.org/ticket/16697" rel="nofollow" style="outline-style:none;outline-width:initial;outline-color:initial;color:rgb(85,26,139)" target="_blank">#16697</a> and in the attachments below. It looks like:</span></span></div>
<div><span style="color:rgb(0,0,0);font-family:arial;font-size:13px"><br />
</span></div>
<div><span style="color:rgb(0,0,0);font-family:arial;font-size:13px">
<div><span style="font-family:courier new,monospace"><span style="font-size:small">--- xc/lib/xtrans/Xtranssock.c.origin</span></span><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"> </span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small">2008-09-29 21:07:46.000000000 +0200</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">+++ xc/lib/xtrans/Xtranssock.c</span></span><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"> </span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small">2008-09-29 21:40:00.000000000 +0200</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">@@ -284,6 +284,8 @@</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"> #ifndef __USLC__</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"> #pragma weak getaddrinfo</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"> #endif</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">+#else</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">+#define MAXHOSTNAMELEN  256</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"> #endif</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"> static int haveIPv6 = 1;</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"> #endif</span></span></div>
</span></div>
<h4><a name="TOC-decompress.c-error"></a>decompress.c error</h4>
<div><span style="color:rgb(0,0,0)"><span style="font-family:Arial;font-size:13px;font-weight:bold">Problem:</span></span></div><div><span style="color:rgb(0,0,0)">port install xfree86 +puredarwin</span></div>
<div><span style="color:rgb(0,0,0)">[...]</span></div><div><span style="color:rgb(0,0,0)"><span style="color:rgb(68,68,68);font-family:Helvetica"><span style="font-family:courier new,monospace"><span style="font-size:small">/usr/bin/cc -c -Wall -Wpointer-arith -no-cpp-precomp -fno-common  -I. -I../include -I../../../programs/Xserver/include  -I../../../exports/include   "-I/opt/local/var/macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_ports_x11_XFree86/work/include" -D__i386__ -D__DARWIN__                                 -DNO_ALLOCA -DCSRG_BASED      -DFONTDIRATTRIB </span></span><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"> </span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small">      -DBUILD_SPEEDO -DBUILD_TYPE1 -DBUILD_CID </span></span><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"> </span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small">      -DBUILD_FREETYPE -DFONT_ENCODINGS_DIRECTORY=\"/usr/X11R6/lib/X11/fonts/encodings/encodings.dir\" -DX_GZIP_FONT_COMPRESSION  </span></span><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"> </span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small">-Os -fno-strict-aliasing   decompress.c -o unshared/decompress.o</span></span></span></span></div><div>
<p style="font-family:Helvetica;font-style:normal;font-variant:normal;font-weight:normal;font-size:12px;line-height:normal;margin-top:10px;margin-right:0px;margin-bottom:10px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px"><span style="font-family:courier new,monospace"><span style="font-size:small">decompress.c:96: error: syntax error before 'z_magic'</span></span></p>
<p style="font-family:Helvetica;font-style:normal;font-variant:normal;font-weight:normal;font-size:12px;line-height:normal;margin-top:10px;margin-right:0px;margin-bottom:10px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px"><span style="font-family:courier new,monospace"><span style="font-size:small">[...]</span></span></p>
<p style="font-family:Helvetica;font-style:normal;font-variant:normal;font-weight:normal;font-size:12px;line-height:normal;margin-top:10px;margin-right:0px;margin-bottom:10px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px"><span style="font-family:courier new,monospace"><span style="font-size:small">decompress.c:464: error: dereferencing pointer to incomplete type<br />
make[5]: *** [decompress.o] Error 1<br />
make[4]: *** [fontfile] Error 1<br />
make[3]: *** [all] Error 1<br />
make[2]: *** [all] Error 1<br />
make[1]: *** [World] Error 2<br />
make: *** [World] Error 2</span></span></p>
<p style="font-family:Helvetica;font-style:normal;font-variant:normal;font-weight:normal;font-size:12px;line-height:normal;margin-top:10px;margin-right:0px;margin-bottom:10px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px"><span style="font-family:courier new,monospace"><span style="font-size:small">Warning: the following items did not execute (for XFree86): org.macports.activate org.macports.build org.macports.destroot org.macports.install</span></span></p>
<p style="font-family:Helvetica;font-style:normal;font-variant:normal;font-weight:normal;font-size:12px;line-height:normal;margin-top:10px;margin-right:0px;margin-bottom:10px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px"><span style="font-family:courier new,monospace"><span style="font-size:small">Error: Status 1 encountered during processing.</span></span></p>
<div style="font-family:arial,sans-serif"><span style="font-family:courier new"><font size="2"><span style="font-family:arial,sans-serif"><span style="color:rgb(0,0,0)"><span style="font-weight:bold">Solution:</span></span></span></font></span></div><div style="font-family:arial,sans-serif"><span style="font-family:courier new"><font size="2"><span style="font-family:arial,sans-serif"><span style="color:rgb(0,0,0)"><span style="font-weight:bold"><span style="font-weight:normal">A Patch is available in ticket <a href="https://trac.macports.org/ticket/16697" rel="nofollow" style="outline-style:none;outline-width:initial;outline-color:initial;color:rgb(85,26,139)" target="_blank">#16697</a> and in the attachments below too.</span></span></span></span></font></span></div>
<div><span style="color:rgb(0,0,0);font-family:Helvetica;font-size:13px">
<div><span style="font-family:arial;font-size:13px"><span style="color:rgb(0,0,0)">Changes are minimal:</span></span></div>
<div><span style="color:rgb(0,0,0);font-family:arial;font-size:13px"><br />
</span></div>
<div><span style="color:rgb(0,0,0);font-family:arial;font-size:13px">
<div><span style="font-family:courier new,monospace"><span style="font-size:small">--- xc/lib/font/fontfile/decompress.c.origin</span></span><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"> </span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small">2008-09-29 22:08:09.000000000 +0200</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">+++ xc/lib/font/fontfile/decompress.c</span></span><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"> </span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small">2008-09-29 22:06:41.000000000 +0200</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">@@ -77,7 +77,7 @@</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"> </span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"> #include "fontmisc.h"</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"> #include &lt;bufio.h&gt;</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">-#ifdef __UNIXOS2__</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">+#if defined(__UNIXOS2__) || defined(__DARWIN__) </span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"> #include &lt;sys/types.h&gt;</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"> #endif</span></span></div>
</span></div>
</span></div>
</div>
</div>
</div>
</div>
</span><span style="font-family:Helvetica;font-size:12px">
<h4><a name="TOC-Cannot-establish-any-listening-sockets"></a>Cannot establish any listening sockets</h4>
<div><span style="font-size:13px"><span style="font-family:Arial;font-weight:bold">Problem:</span></span></div><div><span style="font-size:13px">It fails because missing network support:</span></div>
<div><br />
</div>
<div>
<div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/xorg/XFree86%204.7.0%20on%20puredarwin.png?attredirects=0" imageanchor="1" style="color:rgb(0,102,204);outline-style:none;outline-width:initial;outline-color:initial"><img border="0" src="http://www.puredarwin.org/_/rsrc/1222632254842/developers/xorg/XFree86%204.7.0%20on%20puredarwin.png" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-style:initial;border-color:initial" /></a></div>
<div style="display:block;text-align:left"><br />
</div>
<div style="display:block;text-align:left"><font size="2"><span style="font-weight:bold">Solution:</span></font></div>
<div style="display:block;text-align:left"><font size="2"><span style="font-weight:bold"><span style="font-weight:normal">It looks like your system doesn't have a working network.</span></span></font></div>
<div style="display:block;text-align:left"><font size="2">The workaround is simply to add </font><font size="2" style="font-family:courier new,monospace"><span style="font-size:13px"><span style="color:rgb(68,68,68);font-size:12px"><span style="color:rgb(0,0,0)">-nolisten tcp</span></span></span></font><font size="2">. <br />T<span style="font-size:12px"><span style="font-family:Arial;font-size:13px"><span style="font-family:Arial">his means that XFree86 will not listen on TCP port 6000. <br /><h4><a name="TOC-Missing-keymap"></a>Missing keymap</h4></span><span style="font-weight:bold">Problem:</span><br />The keymap appears mandatory (no default one embedded, but it looks for USA.keymapping by default).<br />Also, the option <span style="font-family:courier new,monospace"><span style="font-size:small">-nokeymap</span></span> is still present and working, it makes X to attempt to read keymap from the system but it will fail with a fatal "<span style="font-family:courier new,monospace"><span style="font-size:small">Could not build a valid keymap</span></span>".</span></span></font></div><div style="display:block;text-align:left"><span style="font-family:Arial;font-size:13px"><br /></span></div></div></span>
</div><div><span style="font-family:Helvetica;font-size:13px;font-weight:normal"><span style="font-size:12px"><div style="display:block;text-align:left"><div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/xorg/X%20notcp%20on%20puredarwin.png?attredirects=0" imageanchor="1" style="color:rgb(0,102,204);outline-style:none;outline-width:initial;outline-color:initial"><img border="0" src="http://www.puredarwin.org/_/rsrc/1222635272162/developers/xorg/X%20notcp%20on%20puredarwin.png" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-style:initial;border-color:initial" /></a></div>
<div style="display:block;text-align:left"><br />
</div>
<div style="display:block;text-align:left"><span style="font-size:13px;font-weight:bold">Solution:</span></div>
<div style="display:block;text-align:left"><span style="font-size:13px;font-weight:bold"><span style="font-weight:normal">Download some keymaps from the <a href="http://www.xdarwin.org/keymappings/" rel="nofollow" style="color:rgb(0,102,204);outline-style:none;outline-width:initial;outline-color:initial" target="_blank">XDarwin.org</a> site and move it into <span style="border-collapse:separate;font-family:Lucida Grande;font-size:12px"><span style="font-style:italic">/System/Library/Keyboards/</span>.</span></span></span></div><div style="display:block;text-align:left"><span style="font-size:13px;font-weight:bold"><span style="font-weight:normal"><span style="border-collapse:separate;font-family:Lucida Grande;font-size:12px">Or <span style="border-collapse:collapse;font-family:Helvetica;font-size:13px">specify that one of these is used on the command line:</span></span></span></span></div>
<div style="display:block;text-align:left"><span style="font-family:courier new"><br />
</span></div>
<div style="display:block;text-align:left"><span style="font-size:13px"><span style="font-family:courier new;font-size:12px">X -keymap <span style="font-weight:bold">USA.keymapping</span></span></span></div><div style="display:block;text-align:left"><span style="font-family:courier new;font-weight:bold"><br /></span></div><div style="display:block;text-align:left"><span style="font-family:arial,sans-serif"><span style="font-size:small">If you plan to use an alternative keymap without specifying it at the command line, you can use a symbolic link:</span></span></div><div style="display:block;text-align:left"><span style="font-family:arial"><br /></span></div><div style="display:block;text-align:left"><span style="font-family:arial"><span style="font-family:courier new">mv /System/Library/Keyboards/USA.keymapping /System/Library/Keyboards/US.keymapping</span></span></div><div style="display:block;text-align:left"><span style="font-family:courier new">ln -fs /System/Library/Keyboards/Francais.keymapping /System/Library/Keyboards/USA.keymapping</span></div><div style="display:block;text-align:left"><span style="font-family:courier new"><br /></span></div><div style="display:block;text-align:left"><span style="font-family:arial"><span style="text-decoration:underline"><span style="font-size:small">Note:</span></span><span style="font-size:small"> Take a look at  </span><span style="font-family:courier new,monospace"><span style="font-size:small">/usr/X11R6/bin/</span></span><a href="http://www.xfree86.org/current/dumpkeymap.1.html" rel="nofollow" target="_blank"><span style="font-family:courier new,monospace"><span style="font-size:small">dumpkeymap</span></span></a><span style="font-size:small">, a diagnostic dump utility suited to keymapping files.</span></span></div><div style="display:block;text-align:left"><span style="font-family:arial;font-size:13px"><span style="color:rgb(255,0,0);font-family:Arial">Please let us know if you know how to generate a .keymapping file.</span></span></div>
</div>
</span></span><span style="font-size:small">
</span><h4><a name="TOC-Font-related-problem-when-launching-xterm"></a>Font-related problem when launching xterm</h4>
</div><div><span style="font-family:Helvetica;font-size:12px"><div><div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="font-family:Arial;font-size:13px;font-weight:bold">Problem:</span></span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">XFree86 Version 4.7.0 / X Window System</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">(protocol Version 11, revision 0)</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">Release Date: 12 August 2007</span></span></div>
<div><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"> </span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small">If the server is older than 6-12 months, or if your hardware is</span></span></div>
<div><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"> </span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small">newer than the above date, look for a newer version before</span></span></div>
<div><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"> </span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small">reporting problems.  (See http://www.XFree86.Org/FAQ)</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">Operating System: Darwin Apple Computer, Inc.</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">Using keymapping provided in /USA.keymapping.</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">Display mode: IOKit</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span>Couldn't set hardware cursor visible with kernel return 0xe00002c7.</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">Screen 0 added: 800x600 @ (0,0)</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(255,0,0)">Could not init font path element /usr/X11R6/lib/X11/fonts/CID/, removing from list!</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(255,0,0)">Fontconfig error: Cannot load default config file</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(255,0,0)">Warning: Cannot convert string "" to type XftFont</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><br />
</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">waiting for X server to shut down Quitting XDarwin...</span></span></div>
</div>
</span>
<span style="font-family:Helvetica;font-size:12px;font-weight:normal"><span style="font-family:courier new">X connection to :0.0 broken (explicit kill or server shutdown).</span></span> </div>
<div><span style="font-family:Helvetica;font-size:12px"><br />
</span></div>
<div><span style="font-family:Helvetica;font-size:12px"><span style="font-weight:bold"><span style="font-size:13px">Pseudo-Solution</span>:</span></span><span style="font-family:Helvetica;font-size:12px;font-weight:normal">
<div>Create font information cache files:</div>
<div><br />
</div>
<div><span><span style="font-family:courier new,monospace"><span style="font-size:small">/usr/X11R6/bin/fc-cache -v -f /</span></span></span><span><span style="font-family:courier new,monospace"><span style="font-size:small">usr/X11R6/lib/X11/fonts/</span></span></span></div><div><span style="font-family:courier new"><div><span style="color:rgb(153,153,153)">Fontconfig error: Cannot load default config file</span></div><div><span style="color:rgb(153,153,153)">/usr/X11R6/bin/fc-cache: "/usr/X11R6/lib/X11/fonts/": caching, 0 fonts, 11 dirs</span></div><div><span style="color:rgb(153,153,153)">/usr/X11R6/bin/fc-cache: "/usr/X11R6/lib/X11/fonts//100dpi": caching, 398 fonts, 0 dirs</span></div><div><span style="color:rgb(153,153,153)">/usr/X11R6/bin/fc-cache: "/usr/X11R6/lib/X11/fonts//75dpi": caching, 398 fonts, 0 dirs</span></div><div><span style="color:rgb(153,153,153)">/usr/X11R6/bin/fc-cache: "/usr/X11R6/lib/X11/fonts//CID": caching, 0 fonts, 0 dirs</span></div><div><span style="color:rgb(153,153,153)">/usr/X11R6/bin/fc-cache: "/usr/X11R6/lib/X11/fonts//Speedo": caching, 0 fonts, 0 dirs</span></div><div><span style="color:rgb(153,153,153)">/usr/X11R6/bin/fc-cache: "/usr/X11R6/lib/X11/fonts//TTF": caching, 22 fonts, 0 dirs</span></div><div><span style="color:rgb(153,153,153)">/usr/X11R6/bin/fc-cache: "/usr/X11R6/lib/X11/fonts//Type1": caching, 29 fonts, 0 dirs</span></div><div><span style="color:rgb(153,153,153)">/usr/X11R6/bin/fc-cache: "/usr/X11R6/lib/X11/fonts//cyrillic": caching, 0 fonts, 0 dirs</span></div><div><span style="color:rgb(153,153,153)">/usr/X11R6/bin/fc-cache: "/usr/X11R6/lib/X11/fonts//encodings": caching, 0 fonts, 1 dirs</span></div><div><span style="color:rgb(153,153,153)">/usr/X11R6/bin/fc-cache: "/usr/X11R6/lib/X11/fonts//encodings/large": caching, 0 fonts, 0 dirs</span></div><div><span style="color:rgb(153,153,153)">/usr/X11R6/bin/fc-cache: "/usr/X11R6/lib/X11/fonts//local": caching, 0 fonts, 0 dirs</span></div><div><span style="color:rgb(153,153,153)">/usr/X11R6/bin/fc-cache: "/usr/X11R6/lib/X11/fonts//misc": caching, 55 fonts, 0 dirs</span></div><div><span style="color:rgb(153,153,153)">/usr/X11R6/bin/fc-cache: "/usr/X11R6/lib/X11/fonts//util": caching, 0 fonts, 0 dirs</span></div><div><span style="color:rgb(153,153,153)">/usr/X11R6/bin/fc-cache: succeeded</span></div></span></div><div><span style="font-family:courier new"><br /></span></div><span style="text-decoration:underline"><span style="font-size:small">Note:</span></span><span style="font-size:small"> It seems optional.<br /></span></span><h4><a name="TOC-Failed-to-connect-to-the-HID-system"></a>Failed to connect to the HID system</h4>
<span style="font-family:Helvetica;font-size:12px"><div><span style="font-family:courier new"><span style="font-family:Arial;font-weight:bold"><span style="font-size:small">Problem:</span></span></span></div><div><span><span style="font-size:small"><span style="font-family:courier new,monospace">Attempting to use width x height = 800 x 600</span></span></span></div><div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small"><br /></span>
</span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">XFree86 Version 4.7.0 / X Window System</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">(protocol Version 11, revision 0)</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">Release Date: 12 August 2007</span></span></span></div>
<div><span style="white-space:pre"><span style="font-family:courier new,monospace"><span><span style="font-size:small"> </span></span></span></span><span style="font-family:courier new,monospace"><span><span style="font-size:small">If the server is older than 6-12 months, or if your hardware is</span></span></span></div>
<div><span style="white-space:pre"><span style="font-family:courier new,monospace"><span><span style="font-size:small"> </span></span></span></span><span style="font-family:courier new,monospace"><span><span style="font-size:small">newer than the above date, look for a newer version before</span></span></span></div>
<div><span style="white-space:pre"><span style="font-family:courier new,monospace"><span><span style="font-size:small"> </span></span></span></span><span style="font-family:courier new,monospace"><span><span style="font-size:small">reporting problems.  (See http://www.XFree86.Org/FAQ)</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">Operating System: Darwin Apple Computer, Inc.</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">Using keymapping provided in USA.keymapping.</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">Display mode: IOKit</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">Couldn't set hardware cursor visible with kernel return 0xe00002c7.</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">Screen 0 added: 800x600 @ (0,0)</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">Could not init font path element /usr/X11R6/lib/X11/fonts/CID/, removing from list!</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">Using keymapping provided in USA.keymapping.</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">Display mode: IOKit</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="color:rgb(255,0,0)"><span style="font-size:small">Failed to connect to the HID System as the window server!</span></span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small"><br /></span>
</span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="color:rgb(255,0,0)"><span style="font-size:small">Fatal server error:</span></span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="color:rgb(255,0,0)"><span style="font-size:small">Make sure you have quit the Mac OS X window server.</span></span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small"><br /></span>
</span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">   OsVendorFatalError</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">   AbortDDX</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span><span style="font-size:small">Quitting XDarwin...</span></span></span></div>
</div>
<div><br />
</div>
<div><span style="font-weight:bold"><span style="font-size:13px">Solution</span>:</span></div>
<div><span><span style="font-size:small">Although the default </span></span><span style="font-style:italic"><span><span style="font-size:small">xterm</span></span></span><span><span style="font-size:small"> fails, </span></span><span style="font-style:italic"><span><span style="font-size:small">xterm</span></span></span><span><span style="font-size:small"> and </span></span><span style="font-style:italic"><span><span style="font-size:small">aterm</span></span></span><span><span style="font-size:small"> compiled from MacPorts (and probably </span></span><span style="font-style:italic"><span><span style="font-size:small">Eterm</span></span></span><span><span style="font-size:small"> too) don't.</span></span></div>
<div>
<div style="display:block;text-align:left"><span><span style="font-size:small">Many "window managers" are linked with </span></span><span><span style="font-size:small">ApplicationServices framework</span></span><span style="font-style:italic"><span><span style="font-size:small">, </span></span></span><span><span style="font-size:small">directly or through their library dependencies, so they won't run.</span></span></div>
</div>
</span><span style="font-family:Helvetica"><span><span style="font-size:small">Compile FreeType as described above, be sure not to use </span></span><span style="color:rgb(68,68,68);font-family:courier new"><span><span style="font-size:small">--with-old-mac-fonts</span></span><span style="color:rgb(0,0,0);font-family:Helvetica"><span><span style="font-size:small"> but use </span></span></span><span><span style="font-size:small">--without-ats</span></span><span style="color:rgb(0,0,0);font-family:Helvetica"><span><span style="font-size:small">.</span></span></span></span></span></div>
<h4><a name="TOC-No-screens-found"></a>No screens found</h4><div><span style="font-family:Helvetica"><span style="font-weight:bold"><span style="font-family:Arial"><span style="font-size:small">Problem</span></span><span style="font-size:small">:</span></span></span></div><div><span style="font-family:Helvetica"><span style="font-size:small">No screens found</span></span></div><div><span style="font-family:Helvetica;font-size:12px"><br /></span></div><div><span style="font-family:Helvetica"><span style="font-weight:bold"><span style="font-size:small">Solution:</span></span></span></div><div><span style="font-family:Helvetica"><span style="font-size:small">On VMware, ensure that VMwareIOFramebuffer.kext is loaded.</span></span></div><h4><a name="TOC-assert-failed-on-line-416-of-xfIOKit.c-"></a>assert failed on line 416 of xfIOKit.c!</h4><div><span style="font-family:Helvetica"><span style="font-weight:bold">Problem:</span><br />A blue frozen screen and the message "assert failed on line 416 of xfIOKit.c!" in the (redirected) &amp;2</span></div><div><span style="font-family:Helvetica"><br /></span></div><div><span style="font-family:Helvetica"><span style="font-weight:bold">Solution:</span></span></div><div><span style="font-family:Helvetica">Unknown, please let us know.</span></div><div><span style="font-family:Helvetica"><span style="font-size:small"><br /></span></span></div>
<div><span style="font-family:Helvetica;font-weight:normal"><span style="font-size:small">To be continued...</span></span><span style="font-size:small">
</span><div>
<h3><a name="TOC-Resources"></a>Resources</h3>
<div><a href="http://www.xfree86.org/current/Darwin.html" rel="nofollow">http://www.xfree86.org/current/Darwin.html</a> (old)</div>
<div><a href="http://xonx.sourceforge.net/" rel="nofollow">http://xonx.sourceforge.net/</a></div>
<div><a href="http://www.xdarwin.org/keymappings/" rel="nofollow">http://www.xdarwin.org/keymappings/</a> mirror <a href="http://www.mit.edu/afs/sipb/project/darwin/src/modules/keymaps/keymappings/" rel="nofollow">http://www.mit.edu/afs/sipb/project/darwin/src/modules/keymaps/keymappings/</a> </div><div><a href="http://www.xfree86.org/current/Darwin.pdf" rel="nofollow" target="_blank">http://www.xfree86.org/current/Darwin.pdf</a> </div></div>
</div>
</div>
</div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-attachments">
<div class="sites-attachments-row"><div class="sites-attachments-icon" style="left:0px;"><div class="sites-translucent sites-symbol">Č</div></div></div><div class="sites-attachments-separator"></div>
<div id="attachment-wuid:gx:10cffff3f24a34df"><div class="sites-attachments-row"><div class="sites-attachments-icon" style="left:5px"><div class="sites-translucent sites-symbol">ċ</div></div><a href="/developers/xfree86/Xtranssock.c.patch?attredirects=0&amp;d=1" title="Download"><div id="attachment-download-wuid:gx:10cffff3f24a34df" class="sites-attachments-icon" style="right:0px"><span class="sites-symbol">ď</span></div></a><div class="sites-attachments-version"><a href="/system/app/pages/admin/revisions?wuid=wuid:gx:10cffff3f24a34df">v.1</a></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name">Xtranssock.c.patch <div class="sites-translucent">(0k)</div></div><div class="sites-attachments-author">Aladin Quet, <div class="sites-translucent">Sep 29, 2008, 1:53 PM</div></div></div></div><div class="sites-attachments-separator"></div></div>
<div id="attachment-wuid:gx:115180bf2b6283bb"><div class="sites-attachments-row"><div class="sites-attachments-icon" style="left:5px"><div class="sites-translucent sites-symbol">ċ</div></div><a href="/developers/xfree86/decompress.c.patch?attredirects=0&amp;d=1" title="Download"><div id="attachment-download-wuid:gx:115180bf2b6283bb" class="sites-attachments-icon" style="right:0px"><span class="sites-symbol">ď</span></div></a><div class="sites-attachments-version"><a href="/system/app/pages/admin/revisions?wuid=wuid:gx:115180bf2b6283bb">v.1</a></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name">decompress.c.patch <div class="sites-translucent">(0k)</div></div><div class="sites-attachments-author">Aladin Quet, <div class="sites-translucent">Sep 29, 2008, 1:53 PM</div></div></div></div><div class="sites-attachments-separator"></div></div>
<div style="height: 10px"></div>
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=http://sites.google.com/a/puredarwin.org/puredarwin/developers/xfree86">Sign in</a>|<a class="sites-system-link" href="/system/app/pages/reportAbuse" target="_blank">Report Abuse</a>|<a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a>|<a class="sites-system-link" href="/system/app/pages/removeAccess" target="_blank">Remove Access</a>|<span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>

<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="http://www.gstatic.com/sites/p/d24ef8/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
    
        sites.core.Analytics.createTracker();
        sites.core.Analytics.trackPageview();
      
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("5443624057807028", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_5443624057807028');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
          JOT_addListener('titleChange', 'JOT_RECENTCHANGES_titleChange', 'COMP_8098985916003585');
        </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXuiEJWuCB_LZagUAJWJE5fSAeie3STAS7tAHgFfprp4c12rk4LMFOFaA8TR0d039eAv4hyMFBfHvlCHV2SSa3ZMi9KY4xzBlhUqDL93kRu7ekwmzzFnhfBQJ8V9k34XQvfqFcLK/api/js?anon=true', true, true,
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('http://www.puredarwin.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type;
                      window.jstiming.report(loadTimer, {}, 'http://csi.gstatic.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
 //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
              JOT_postEvent('renderPlus', null, 'sites-chrome-main');
            </script>
<div id="server-timer-div" style="display:none"> </div>
<script>
          window.jstiming.load.tick('render');
        </script>
</body>
</html>
