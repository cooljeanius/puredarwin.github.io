<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var b=window,e="chrome",f="tick",g="wtsrt_",h="tbsd_",k="tbnd_",l="start",n="_wtsrt",p="_tbnd";(function(){function m(a){this.t={};this.tick=function(a,c,d){this.t[a]=[void 0!=d?d:(new Date).getTime(),c]};this[f](l,null,a)}var a=new m;b.jstiming={Timer:m,load:a};if(b.performance&&b.performance.timing){var a=b.performance.timing,c=b.jstiming.load,d=a.navigationStart,a=a.responseStart;0<d&&a>=d&&(c[f](n,void 0,d),c[f](g,n,a),c[f](h,g))}try{a=null,b[e]&&b[e].csi&&(a=Math.floor(b[e].csi().pageT),c&&0<d&&(c[f](p,void 0,b[e].csi().startE),c[f](k,p,d))),null==a&&b.gtbExternal&&(a=b.gtbExternal.pageT()),
null==a&&b.external&&(a=b.external.pageT,c&&0<d&&(c[f](p,void 0,b.external.startE),c[f](k,p,d))),a&&(b.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="//www.google.com/images/icons/product/sites-16.ico" />
<link rel="apple-touch-icon" href="http://www.gstatic.com/sites/p/d24ef8/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d=window,e="length",h="",k="__duration__",l="function";function m(c){return document.getElementById(c)}d.byId=m;function n(c){return c.replace(/^\s+|\s+$/g,h)}d.trim=n;var p=[],q=0;d.JOT_addListener=function(c,a,b){var f=new String(q++);c={eventName:c,handler:a,compId:b,key:f};p.push(c);return f};d.JOT_removeListenerByKey=function(c){for(var a=0;a<p[e];a++)if(p[a].key==c){p.splice(a,1);break}};d.JOT_removeAllListenersForName=function(c){for(var a=0;a<p[e];a++)p[a].eventName==c&&p.splice(a,1)};
d.JOT_postEvent=function(c,a,b){var f={eventName:c,eventSrc:a||{},payload:b||{}};if(d.JOT_fullyLoaded)for(a=p[e],b=0;b<a&&b<p[e];b++){var g=p[b];g&&g.eventName==c&&(f.listenerCompId=g.compId||h,(g=typeof g.handler==l?g.handler:d[g.handler])&&g(f))}else d.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};d.JOT_delayedEvents=[];d.JOT_fullyLoaded=!1;
d.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var f=0;60<=b&&(b/=60,f=2);2<=b&&f++;return a?d.JOT_siteRelTimeStrs[f].replace(k,Math.floor(b)):d.JOT_userRelTimeStrs[f].replace(k,Math.floor(b))}; })()
</script>
<script>

var webspace = {"scottyUrl":"/_/upload","isConsumer":false,"canPublishScriptToAnyone":true,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"sharingUrlPrefix":"/_/sharing","csiReportUri":"http://csi.gstatic.com/csi","sharingPolicy":"OPENED_WITH_INDICATOR","analyticsAccountId":"UA-4515077-1","baseUri":"","name":"puredarwin","domain":"puredarwin.org","features":{"asyncPermanentDelete":false,"horizontalNavLayout":true,"folderEmbed":true,"scottyForTrogImageUpload":false,"moreBackgroundTweaks":true,"flipFolderUrls":true,"animateNavigation":true,"driveInFileCabinet":true,"skiThemeIsDefault":true,"pdfEmbedSupport":false,"animateToc":true,"siteChromeSidebarWidgetsEditDialog":true,"canonicalLinkTagInHead":false,"driveImageEmbed":true,"siteChromeSystemFooterDialog":true,"plusOneButtonOptions":true,"plusOneButton":true,"adSenseDeprecate":true,"photoAlbumsInOnePick":true,"docosHideNotificationSettings":true,"newInsertMenu":true,"skiTheme":true,"siteChromeDialogsToolbar":true,"plusBadge":false,"siteChromeHorizontalNavigationDialog":true,"youTubeEmbedSize":true,"adSenseDeprecateMsg":true,"htmlEmbed":true,"siteChromeHeaderDialog":true,"photoAlbumsGPlusUrlSupport":true,"disableGoogleVideo":true},"adsensePublisherId":"ca-pub-3519492571996731","gvizVersion":1,"siteTitle":"PureDarwin","pageSharingId":"jotspot_page","plusPageId":"","termsUrl":"http://sites.google.com/site/sites/system/app/pages/meta/terms?apps\u003d1","enableAnalytics":true,"isPublic":true,"plusPageUrl":"","homePath":"/","sharingId":"jotspot","isAdsenseEnabled":true,"adsensePromoClickedOrSiteIneligible":true,"isStartPageEnabled":true,"domainAnalyticsAccountId":""};

webspace.gadgets = {"baseUri":"/system/app/pages/gadgets"};

webspace.user = {"uid":"","renderMobile":false,"primaryEmail":"guest","sessionIndex":"","namespaceUser":false,"displayNameOrEmail":"guest","namespace":"","hasAdminAccess":false,"guest_":true,"keyboardShortcuts":true,"domain":"","hasWriteAccess":false,"dasherUser":false,"userName":"guest"};

webspace.page = {"canDeleteWebspace":null,"locale":"en","state":"","wuid":"wuid:gx:3f49bbfc596686fa","pageInheritsPermissions":null,"timeZone":"America/Los_Angeles","properties":{},"type":"text","canChangePath":true,"parentWuid":null,"revision":19,"title":"PureFoundation","isRtlLocale":false,"bidiEnabled":false,"siteLocale":"en","name":"purefoundation","path":"/purefoundation","isSiteRtlLocale":false,"parentPath":null};
webspace.page.breadcrumbs = [{"title":"PureFoundation","dir":"ltr","path":"/purefoundation","deleted":false}];

webspace.editorResources = {
  text: [
    'http://www.gstatic.com/sites/p/d24ef8/system/js/codemirror.js',
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/codemirror_css.css',
    'http://www.gstatic.com/sites/p/d24ef8/system/js/trog_edit__en.js',
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/trogedit.css',
    '/_/rsrc/1381649936000/system/app/css/editor.css',
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/codeeditor.css',
    '/_/rsrc/1381649936000/system/app/css/camelot/editor-jfk.css'
  ],
  sitelayout: [
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/sitelayouteditor.css'
  ]
};

var JOT_clearDotPath = 'http://www.gstatic.com/sites/p/d24ef8/system/app/images/cleardot.gif';

var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

webspace.siteTemplateId = false;

webspace.page.currentTemplate = {"title":"Web Page","path":"/system/app/pagetemplates/text"};

var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="PureFoundation - PureDarwin" />
<meta itemprop="name" content="PureFoundation - PureDarwin" />
<meta property="og:title" content="PureFoundation - PureDarwin" />
<meta itemprop="image" content="/_/rsrc/1204251241201/config/app/images/customLogo/pd.png?revision=1" />
<meta property="og:image" content="/_/rsrc/1204251241201/config/app/images/customLogo/pd.png?revision=1" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="http://www.gstatic.com/sites/p/d24ef8/system/app/themes/default/standard-css-default-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1381649936000/system/app/css/overlay.css?cb=defaultundefineda150goog-ws-left" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1381649936000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>PureFoundation - PureDarwin</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<script src="//www.gstatic.com/caja/5609/caja.js"> </script>
<script src="http://www.gstatic.com/sites/p/d24ef8/system/js/jot_caja.js"> </script>
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class=""><div class="sites-header-cell-buffer-wrapper"><a href="http://sites.google.com/a/puredarwin.org/puredarwin/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="/_/rsrc/1204251241201/config/app/images/customLogo/pd.png?revision=1" alt="Logo" class="sites-logo " /></a><h2></h2></div></td><td class="sites-layout-searchbox "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/system/app/pages/search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container">
</td>
</tr>
</table> 
</div> 
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_5443624057807028" class="sites-embed"><h4 class="sites-embed-title">Navigation</h4><div class="sites-embed-content sites-sidebar-nav"><ul jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="/news" jotId="wuid:gx:117960ccf6cea3d3" class="sites-navigation-link">News</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/screenshots" jotId="wuid:gx:381949cce98f8fe1" class="sites-navigation-link">Screenshots</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/downloads" jotId="wuid:gx:19ca24e3c9b23b1a" class="sites-navigation-link">Downloads</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/contact" jotId="wuid:gx:2682c13d3d043499" class="sites-navigation-link">Contact us</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/legal" jotId="wuid:gx:77c2ee3613fb2cc2" class="sites-navigation-link">Legal</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:2258cc2a13247b09" class="sites-navigation-link">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_22101909201592207" class="sites-embed"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><img src="http://www.puredarwin.org/_/rsrc/1211558361866/config/app/images/hi-medium.jpg" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px" /> The goal of this project is to make Darwin more usable by providing an installation ISO, documentation, and add-on software. You are welcome to join #puredarwin on irc.freenode.net if you would like to join PureDarwin development and to add to this site.</div></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_8098985916003585" class="sites-embed"><h4 class="sites-embed-title">Recent site activity</h4><div class="sites-embed-content sites-sidebar-recent-activity"><ul><li><a jotid="wuid:gx:48db54bc6a1c5a93" dir="ltr" href="http://www.puredarwin.org/news/newpuredarwin9l30betarelease">New PureDarwin 1.3 beta release</a><div><span class="sites-text-secondary">edited by PD admin</span></div><div><span class="sites-text-secondary">edited by Daniel Bethe</span></div></li><li><a jotid="wuid:gx:48db54bc6a1c5a93" dir="ltr" href="http://www.puredarwin.org/news/newpuredarwin9l30betarelease">New PureDarwin 9L30 beta release</a><div><span class="sites-text-secondary">edited by Daniel Bethe</span></div><div><span class="sites-text-secondary">created by PD admin</span></div></li><li><a jotid="wuid:gx:117960ccf6cea3d3" dir="ltr" href="http://www.puredarwin.org/news">News</a><div><span class="sites-text-secondary">edited by Ferdinand Klinzer</span></div></li><li><a jotid="wuid:gx:30ad1d3f494a9d46" dir="ltr" href="http://www.puredarwin.org/developers/vmware">VMware</a><div><span class="sites-text-secondary">edited by PD admin</span></div></li><li><a jotid="wuid:gx:52a0425ce78e58d8" dir="ltr" href="http://www.puredarwin.org/news/pcnet32-driver-for-puredarwin">PCnet32 driver for PureDarwin</a><div><span class="sites-text-secondary">edited by PD admin</span></div></li><li class="sites-sidebar-recent-activity-viewall"><a href="/system/app/pages/recentChanges">View All</a></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_08458635257557034" class="sites-embed"><div class="sites-embed-content-notitle"><span jotId="content"><p><script type="text/javascript">
<!--
google_ad_client="pub-3519492571996731";
google_ad_host="pub-6693688277674466";
google_ad_width=120;
google_ad_height=600;
google_ad_format="120x600_as";
google_ad_type="text_image";
google_color_border="FFFFFF";
google_color_bg="FFFFFF";
google_color_link="000000";
google_color_url="4E7DBF";
google_color_text="5E6A72";
//-->
</script>
<script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</p></span></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
</div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr">PureFoundation</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr">This page is about the use of PureFoundation on Darwin. For details about its development, see the links section below. <div><br /><div><div>
<div>
<div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed" style="width:400px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-About-PureFoundation"><strong>1 </strong>About PureFoundation</a></li><li class="goog-toc"><a href="#TOC-Status"><strong>2 </strong>Status</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-How-to-recognise-a-dependency-on-Foundation"><strong>2.1 </strong>How to recognise a dependency on Foundation</a></li><li class="goog-toc"><a href="#TOC-Report-a-dependent-on-Foundation"><strong>2.2 </strong>Report a dependent on Foundation</a></li></ol></li><li class="goog-toc"><a href="#TOC-Links"><strong>3 </strong>Links</a></li><li class="goog-toc"><a href="#TOC-Resources"><strong>4 </strong>Resources</a></li></ol></div></div></div></div>
</div>
<h2><a name="TOC-About-PureFoundation"></a>About PureFoundation</h2>
<p>PureFoundation is a binary-compatible, open source clone of Apple's Foundation framework, designed exclusively for Darwin. It uses the same components as Apple's Foundation: the Objective-C 2.0 Runtime, CoreFoundation, and (one day) the AutoZone garbage collector.</p>
<p>PureFoundation's primary goal is to allow certain dependant parts of Darwin run correctly. Objective-C is a great programming language, and Foundation provides a feature-rich and mature development environment, so it's hardly surprising that Apple chose it to write a number of key components of Darwin. However, since Foundation has not been released, this has left us in the position where these components simply will not run. While Apple's open source team usually do an excellent job of fixing such dependencies, in these cases the only fix would be to re-write the component in question using a different set of libraries, which is an impractical amount to ask.</p><p>Instructions for getting and installing PureFoundation can be found here: <a href="http://code.google.com/p/purefoundation/wiki/InstallingPureFoundation" target="_blank">http://code.google.com/p/purefoundation/wiki/InstallingPureFoundation</a>.<br /></p>
<h2><a name="TOC-Status"></a>Status</h2><span style="font-weight:bold">v0.003 (15/03/2009)</span> Latest test target, <span style="font-family:courier new,monospace"><span style="font-size:small">dscl</span></span>, seems to run correctly.
<h3><a name="TOC-How-to-recognise-a-dependency-on-Foundation"></a>How to recognise a dependency on Foundation</h3>
<p>At compile time, in the <a href="http://www.puredarwin.org/developers/darwinbuild" target="_blank">darwinbuild</a> chroot, dependencies appear as missing header files (eg. "Foundation.h") or linker errors (eg. "unable to link to Foundation.framework"). At run time, dependencies are signalled by linker errors like:
</p><blockquote><span style="font-family:courier new,monospace"><span style="font-size:small">
<p><span>    dyld: Library not loaded: /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation<br />      Referenced from: /System/Library/PrivateFrameworks/OpenDirectory.framework/Versions/A/OpenDirectory</span></p></span></span></blockquote>
<p>or alternatively with a message like <span style="font-family:courier new,monospace">"<span style="font-size:small">Symbol not found: NSInvalidArgumentException</span>"</span><span style="font-family:arial,sans-serif">. Typically, if the symbol begins "NS", it is a problem which PureFoundation should be able to solve.</span></p><p>See <a href="http://www.puredarwin.org/blockers" target="_blank">Current Blockers</a> for a list of some of the components affected.</p><h3><a name="TOC-Report-a-dependent-on-Foundation"></a>Report a dependent on Foundation</h3><p>If (when) you encounter a tool or application which looks like it needs Foundation, please report it via the PureFoundation issue tracker at <a href="http://code.google.com/p/purefoundation/issues/list" target="_blank">http://code.google.com/p/purefoundation/issues/list</a>. </p><h2><a name="TOC-Links"></a>Links</h2><p>PureFoundation is now hosted on Google Code, at <a href="http://code.google.com/p/purefoundation/" target="_blank">http://code.google.com/p/purefoundation/</a>.</p><div><h2 style="background-color:transparent;color:rgb(0,0,0);font-family:Arial,Verdana,sans-serif;font-size:22px;margin-top:10px;margin-right:10px;margin-bottom:10px;margin-left:0px"><a name="TOC-Resources"></a>Resources</h2></div><div><a href="http://www.hereapi.com/pf/index.html" rel="nofollow" style="color:rgb(0,102,204);outline-style:none;outline-width:initial;outline-color:initial" target="_blank">http://www.hereapi.com/pf/index.html</a> </div><a href="http://www.puredarwin.org/news/purefoundation" rel="nofollow" style="color:rgb(0,102,204);outline-style:none;outline-width:initial;outline-color:initial">http://www.puredarwin.org/news/purefoundation</a> <br /><div dir="ltr"><br /></div><div dir="ltr"><a href="http://developer.apple.com/DOCUMENTATION/Cocoa/Reference/Foundation/ObjC_classic/FoundationObjC.pdf" rel="nofollow" style="color:rgb(0,102,204);outline-style:none;outline-width:initial;outline-color:initial" target="_blank">http://developer.apple.com/DOCUMENTATION/Cocoa/Reference/Foundation/ObjC_classic/FoundationObjC.pdf</a> </div><div dir="ltr"><a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/ObjC_classic/Intro/IntroFoundation.html" rel="nofollow" style="color:rgb(0,102,204);outline-style:none;outline-width:initial;outline-color:initial" target="_blank">http://developer.apple.com/documentation/Cocoa/Reference/Foundation/ObjC_classic/Intro/IntroFoundation.html</a> </div><div dir="ltr"><br /></div><div dir="ltr">Another similar project apparently was <a href="http://landonf.bikemonkey.org/code/objc/Announcing_ObjC_Substrate.20060913022551.6494.zadder.local.html" target="_blank">Objective-C Substrate</a></div><div dir="ltr"><br /></div><div dir="ltr"><span style="font-size:20px;font-weight:bold">In the beginning...</span></div><div>"<span style="font-style:italic">One step at a time is a good walking</span>" dixit a chinese proverb.</div><div><br /><span style="font-weight:bold">v0.0007</span><br />All classes which can be directly bridged to CFLite (strings, arrays, dictionaries, sets, calendars, timezones, etc.) are present and at least 90% complete. It can now run <span style="font-family:courier new">dscl</span> (which complains that the server is not running and exits, but at least it doesn't crash).</div><div><hr /><span style="font-weight:bold">v0.0006</span><br />This version should now run 'arch' correctly. It also no longer causes the X server to break.<br /><hr /><span style="font-weight:bold">v0.0005</span><br />We should think to change "our case study" from now.</div><div><span style="font-family:courier new,monospace"><span style="font-size:small">arch</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">i386</span></span></span></div><div><br /></div><div>Exactly the expected behavior!</div><div><div><span style="font-family:courier new,monospace"><span style="font-size:small">arch -p</span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">arch: Unknown architecture: p</span></span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"><hr /><span style="color:rgb(0,0,0);font-family:Arial;font-size:13px"><span style="font-weight:bold">v0.0004</span></span></span></span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"><span style="color:rgb(0,0,0);font-family:Arial;font-size:13px">Our case study:</span></span></span></span></div></div><div><span style="font-family:courier new,monospace"><span style="font-size:small">arch</span></span>
<div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">i386</span></span></span></div>
<div><br />
</div>
<div>And</div><div><span style="font-family:courier new;font-size:12px">arch -p</span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><br />
</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><br />
</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">EXCEPTION!!!!</span></span></div>
<div><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"> </span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small">  name: NSInvalidArgumentException</span></span></div>
<div><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"> </span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small">reason: Attempting mutable dictionary op on a static NSDictionary</span></span></div>
<div><br />
</div>
<div><span style="text-decoration:underline">Note:</span> This version, we have placed <span style="font-style:italic">Foundation.framework</span> and replaced <span style="font-style:italic">CoreFoundation.framework</span> plus <span style="font-style:italic">libobjc.A.dylib</span> in the BuildRoot.</div>
<div><br />
</div>
<div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">FoundationTool </span></span></div>
<div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">2009-02-06 13:12:48.468 FoundationTool[12163:10b] CFLog: Hello, World!</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">-- back from CFLog --</span></span></div>
<div><br />
</div>
<div>
<div><span style="text-decoration:underline">Note:</span> For your information, `FoundationTool' is "<span style="font-style:italic">the Cocoa command line tool you get by selecting "Foundation Tool" from the "Command Line Utility" section of XCode's "New Project..." window. I've compiled it here for your convenience. All it does is create an NSAutoreleasePool, write "Hello World!" using NSLog, then drains the pool. BUT this was compiled on OS X and will run on Darwin, proving that we've taken our first step towards a binary-compatible Foundation.framework</span>." quoting the Readme<span>.<br /><hr /><span style="font-weight:bold">v0.0003</span><br /><span style="font-family:courier new,monospace"><span style="font-size:small">arch <br /><br />i386 </span></span><br /><br /><br /><span style="font-family:courier new,monospace"><span style="font-size:small">arch -p <br />zsh: bus error arch -p </span></span><br /><br style="text-decoration:underline" /><span style="text-decoration:underline">N</span><span style="text-decoration:underline">otes:</span></span> Although the version 0.0003 <span style="font-style:italic">"relies on a patched CFLite, which in turn relies upon PureFoundation"</span> (dixit), it appears to work (at least for `arch') with the default CFLite for some binary.<br /><hr /><span style="font-weight:bold">v0.0002</span></div></div></div></div><div>
<div><span style="font-family:courier new;font-size:12px">arch</span></div>
<div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject load] </span></span></span></div>
<div><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"> </span></span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">_cfisa before = 6186080</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject initialize] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject class] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">Continuing with +initialize -- means this is NSObject</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">address of self (NSObject Class) is 193376</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">Created retain dictionary.</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSString initialize] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSString initialize] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSCFString initialize] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject class] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">Setting _PFNSCFStringClass</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">_PFNSCFStringClass = 193504</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSCFString alloc] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">_PFNSCFStringClass = 193504</span></span></span></div>
<div><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"> </span></span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">_cfisa after = 6186080</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">i386</span></span></span></div>
<div><br />
</div>
</div>
<div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">arch -p</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject load] </span></span></span></div>
<div><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"> </span></span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">_cfisa before = 6186080</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject initialize] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject class] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">Continuing with +initialize -- means this is NSObject</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">address of self (NSObject Class) is 193376</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">Created retain dictionary.</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSString initialize] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSString initialize] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSCFString initialize] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject class] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">Setting _PFNSCFStringClass</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">_PFNSCFStringClass = 193504</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSCFString alloc] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">_PFNSCFStringClass = 193504</span></span></span></div>
<div><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"> </span></span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">_cfisa after = 6186080</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject initialize] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject class] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject alloc] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">NSAllocateObject </span></span></span></div>
<div><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"> </span></span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">value of aClass is 193696</span></span></span></div>
<div><span style="white-space:pre"><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"> </span></span></span></span><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">object var points to 10489024</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">-[NSAutoreleasePool init] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">-[NSObject init] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSAutoreleasePool __hello:] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject initialize] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject class] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject initialize] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSObject class] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSString stringWithUTF8String:] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">+[NSString stringWithCString:encoding:] </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">_PFBlessNSCFString </span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">_PFBless old _cfisa = 0</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)">zsh: bus error  arch -p </span></span></span></div><div><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"><hr /><span style="font-family:arial,sans-serif"><span style="font-size:small"><span style="color:rgb(0,0,0)"><span style="font-weight:bold">v0.0001</span></span></span></span></span></span></span></div></div>
<div><span><span style="font-family:courier new,monospace"><span style="font-size:small">arch<br />
<span style="color:rgb(68,68,68)">NSObject +load<br />
i386</span></span></span></span></div>
<div><span><br />
</span></div>
<div><span><span style="font-family:courier new,monospace"><span style="font-size:small"><span style="color:rgb(68,68,68)"><span style="color:rgb(0,0,0)">arch -p<br />
</span>NSObject +load<br />
NSObject +initialize<br />
NSObject +class<br />
Continuing with +initialize -- means this is NSObject<br />
address of self (NSObject Class) is 107040<br />
Created retain dictionary.<br />
NSObject +initialize<br />
NSObject +class<br />
NSObject +alloc<br />
NSAllocateObject()<br />
value of aClass is 107360<br />
object var points to 10488832<br />
-[NSAutoreleasePool init] NSAutoreleasePool -init<br />
NSObject -self<br />
+[NSAutoreleasePool __hello:] NSAutoreleasePool +__hello:<br />
zsh: bus error  arch -p</span></span></span></span></div></div>
<div dir="ltr">
<div><br />
</div>
</div>
</div>
</div>
</div>
</div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=http://sites.google.com/a/puredarwin.org/puredarwin/purefoundation">Sign in</a>|<a class="sites-system-link" href="/system/app/pages/reportAbuse" target="_blank">Report Abuse</a>|<a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a>|<a class="sites-system-link" href="/system/app/pages/removeAccess" target="_blank">Remove Access</a>|<span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>

<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="http://www.gstatic.com/sites/p/d24ef8/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
    
        sites.core.Analytics.createTracker();
        sites.core.Analytics.trackPageview();
      
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("5443624057807028", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_5443624057807028');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
          JOT_addListener('titleChange', 'JOT_RECENTCHANGES_titleChange', 'COMP_8098985916003585');
        </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXuiEJWuCB_LZagUAJWJE5fSAeie3STAS7tAHgFfprp4c7_6LPu4SYLGIF20GIxGjorAHuC6LR7w5r_v76DR7__VulI9NUXhQe7wbEBVz1zvpILdbIw2bOQn3TQqiG8OuD367eil/api/js?anon=true', true, true,
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('http://www.puredarwin.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type;
                      window.jstiming.report(loadTimer, {}, 'http://csi.gstatic.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
 //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
              JOT_postEvent('renderPlus', null, 'sites-chrome-main');
            </script>
<div id="server-timer-div" style="display:none"> </div>
<script>
          window.jstiming.load.tick('render');
        </script>
</body>
</html>
