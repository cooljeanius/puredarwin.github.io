<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var b=window,e="chrome",f="tick",g="wtsrt_",h="tbsd_",k="tbnd_",l="start",n="_wtsrt",p="_tbnd";(function(){function m(a){this.t={};this.tick=function(a,c,d){this.t[a]=[void 0!=d?d:(new Date).getTime(),c]};this[f](l,null,a)}var a=new m;b.jstiming={Timer:m,load:a};if(b.performance&&b.performance.timing){var a=b.performance.timing,c=b.jstiming.load,d=a.navigationStart,a=a.responseStart;0<d&&a>=d&&(c[f](n,void 0,d),c[f](g,n,a),c[f](h,g))}try{a=null,b[e]&&b[e].csi&&(a=Math.floor(b[e].csi().pageT),c&&0<d&&(c[f](p,void 0,b[e].csi().startE),c[f](k,p,d))),null==a&&b.gtbExternal&&(a=b.gtbExternal.pageT()),
null==a&&b.external&&(a=b.external.pageT,c&&0<d&&(c[f](p,void 0,b.external.startE),c[f](k,p,d))),a&&(b.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="//www.google.com/images/icons/product/sites-16.ico" />
<link rel="apple-touch-icon" href="http://www.gstatic.com/sites/p/d24ef8/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d=window,e="length",h="",k="__duration__",l="function";function m(c){return document.getElementById(c)}d.byId=m;function n(c){return c.replace(/^\s+|\s+$/g,h)}d.trim=n;var p=[],q=0;d.JOT_addListener=function(c,a,b){var f=new String(q++);c={eventName:c,handler:a,compId:b,key:f};p.push(c);return f};d.JOT_removeListenerByKey=function(c){for(var a=0;a<p[e];a++)if(p[a].key==c){p.splice(a,1);break}};d.JOT_removeAllListenersForName=function(c){for(var a=0;a<p[e];a++)p[a].eventName==c&&p.splice(a,1)};
d.JOT_postEvent=function(c,a,b){var f={eventName:c,eventSrc:a||{},payload:b||{}};if(d.JOT_fullyLoaded)for(a=p[e],b=0;b<a&&b<p[e];b++){var g=p[b];g&&g.eventName==c&&(f.listenerCompId=g.compId||h,(g=typeof g.handler==l?g.handler:d[g.handler])&&g(f))}else d.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};d.JOT_delayedEvents=[];d.JOT_fullyLoaded=!1;
d.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var f=0;60<=b&&(b/=60,f=2);2<=b&&f++;return a?d.JOT_siteRelTimeStrs[f].replace(k,Math.floor(b)):d.JOT_userRelTimeStrs[f].replace(k,Math.floor(b))}; })()
</script>
<script>

var webspace = {"scottyUrl":"/_/upload","isConsumer":false,"canPublishScriptToAnyone":true,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"sharingUrlPrefix":"/_/sharing","csiReportUri":"http://csi.gstatic.com/csi","sharingPolicy":"OPENED_WITH_INDICATOR","analyticsAccountId":"UA-4515077-1","baseUri":"","name":"puredarwin","domain":"puredarwin.org","features":{"asyncPermanentDelete":false,"horizontalNavLayout":true,"folderEmbed":true,"scottyForTrogImageUpload":false,"moreBackgroundTweaks":true,"flipFolderUrls":true,"animateNavigation":true,"driveInFileCabinet":true,"skiThemeIsDefault":true,"pdfEmbedSupport":false,"animateToc":true,"siteChromeSidebarWidgetsEditDialog":true,"canonicalLinkTagInHead":false,"driveImageEmbed":true,"siteChromeSystemFooterDialog":true,"plusOneButtonOptions":true,"plusOneButton":true,"adSenseDeprecate":true,"photoAlbumsInOnePick":true,"docosHideNotificationSettings":true,"newInsertMenu":true,"skiTheme":true,"siteChromeDialogsToolbar":true,"plusBadge":false,"siteChromeHorizontalNavigationDialog":true,"youTubeEmbedSize":true,"adSenseDeprecateMsg":true,"htmlEmbed":true,"siteChromeHeaderDialog":true,"photoAlbumsGPlusUrlSupport":true,"disableGoogleVideo":true},"adsensePublisherId":"ca-pub-3519492571996731","gvizVersion":1,"siteTitle":"PureDarwin","pageSharingId":"jotspot_page","plusPageId":"","termsUrl":"http://sites.google.com/site/sites/system/app/pages/meta/terms?apps\u003d1","enableAnalytics":true,"isPublic":true,"plusPageUrl":"","homePath":"/","sharingId":"jotspot","isAdsenseEnabled":true,"adsensePromoClickedOrSiteIneligible":true,"isStartPageEnabled":true,"domainAnalyticsAccountId":""};

webspace.gadgets = {"baseUri":"/system/app/pages/gadgets"};

webspace.user = {"uid":"","renderMobile":false,"primaryEmail":"guest","sessionIndex":"","namespaceUser":false,"displayNameOrEmail":"guest","namespace":"","hasAdminAccess":false,"guest_":true,"keyboardShortcuts":true,"domain":"","hasWriteAccess":false,"dasherUser":false,"userName":"guest"};

webspace.page = {"canDeleteWebspace":null,"locale":"en","state":"","wuid":"wuid:gx:28c3fdf8e524a102","pageInheritsPermissions":null,"timeZone":"America/Los_Angeles","properties":{},"type":"text","canChangePath":true,"parentWuid":null,"revision":3,"title":"VirtualBox archive","isRtlLocale":false,"bidiEnabled":false,"siteLocale":"en","name":"virtualbox-archive","path":"/virtualbox-archive","isSiteRtlLocale":false,"parentPath":null};
webspace.page.breadcrumbs = [{"title":"VirtualBox archive","dir":"ltr","path":"/virtualbox-archive","deleted":false}];

webspace.editorResources = {
  text: [
    'http://www.gstatic.com/sites/p/d24ef8/system/js/codemirror.js',
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/codemirror_css.css',
    'http://www.gstatic.com/sites/p/d24ef8/system/js/trog_edit__en.js',
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/trogedit.css',
    '/_/rsrc/1381649936000/system/app/css/editor.css',
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/codeeditor.css',
    '/_/rsrc/1381649936000/system/app/css/camelot/editor-jfk.css'
  ],
  sitelayout: [
    'http://www.gstatic.com/sites/p/d24ef8/system/app/css/sitelayouteditor.css'
  ]
};

var JOT_clearDotPath = 'http://www.gstatic.com/sites/p/d24ef8/system/app/images/cleardot.gif';

var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

webspace.siteTemplateId = false;

webspace.page.currentTemplate = {"title":"Web Page","path":"/system/app/pagetemplates/text"};

var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="VirtualBox archive - PureDarwin" />
<meta itemprop="name" content="VirtualBox archive - PureDarwin" />
<meta property="og:title" content="VirtualBox archive - PureDarwin" />
<meta itemprop="image" content="/_/rsrc/1204251241201/config/app/images/customLogo/pd.png?revision=1" />
<meta property="og:image" content="/_/rsrc/1204251241201/config/app/images/customLogo/pd.png?revision=1" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="http://www.gstatic.com/sites/p/d24ef8/system/app/themes/default/standard-css-default-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1381649936000/system/app/css/overlay.css?cb=defaultundefineda150goog-ws-left" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1381649936000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>VirtualBox archive - PureDarwin</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<script src="//www.gstatic.com/caja/5609/caja.js"> </script>
<script src="http://www.gstatic.com/sites/p/d24ef8/system/js/jot_caja.js"> </script>
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class=""><div class="sites-header-cell-buffer-wrapper"><a href="http://sites.google.com/a/puredarwin.org/puredarwin/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="/_/rsrc/1204251241201/config/app/images/customLogo/pd.png?revision=1" alt="Logo" class="sites-logo " /></a><h2></h2></div></td><td class="sites-layout-searchbox "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/system/app/pages/search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container">
</td>
</tr>
</table> 
</div> 
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_5443624057807028" class="sites-embed"><h4 class="sites-embed-title">Navigation</h4><div class="sites-embed-content sites-sidebar-nav"><ul jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="/news" jotId="wuid:gx:117960ccf6cea3d3" class="sites-navigation-link">News</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/screenshots" jotId="wuid:gx:381949cce98f8fe1" class="sites-navigation-link">Screenshots</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/downloads" jotId="wuid:gx:19ca24e3c9b23b1a" class="sites-navigation-link">Downloads</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/contact" jotId="wuid:gx:2682c13d3d043499" class="sites-navigation-link">Contact us</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/legal" jotId="wuid:gx:77c2ee3613fb2cc2" class="sites-navigation-link">Legal</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:2258cc2a13247b09" class="sites-navigation-link">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_22101909201592207" class="sites-embed"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><img src="http://www.puredarwin.org/_/rsrc/1211558361866/config/app/images/hi-medium.jpg" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px" /> The goal of this project is to make Darwin more usable by providing an installation ISO, documentation, and add-on software. You are welcome to join #puredarwin on irc.freenode.net if you would like to join PureDarwin development and to add to this site.</div></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_8098985916003585" class="sites-embed"><h4 class="sites-embed-title">Recent site activity</h4><div class="sites-embed-content sites-sidebar-recent-activity"><ul><li><a jotid="wuid:gx:48db54bc6a1c5a93" dir="ltr" href="http://www.puredarwin.org/news/newpuredarwin9l30betarelease">New PureDarwin 1.3 beta release</a><div><span class="sites-text-secondary">edited by PD admin</span></div><div><span class="sites-text-secondary">edited by Daniel Bethe</span></div></li><li><a jotid="wuid:gx:48db54bc6a1c5a93" dir="ltr" href="http://www.puredarwin.org/news/newpuredarwin9l30betarelease">New PureDarwin 9L30 beta release</a><div><span class="sites-text-secondary">edited by Daniel Bethe</span></div><div><span class="sites-text-secondary">created by PD admin</span></div></li><li><a jotid="wuid:gx:117960ccf6cea3d3" dir="ltr" href="http://www.puredarwin.org/news">News</a><div><span class="sites-text-secondary">edited by Ferdinand Klinzer</span></div></li><li><a jotid="wuid:gx:30ad1d3f494a9d46" dir="ltr" href="http://www.puredarwin.org/developers/vmware">VMware</a><div><span class="sites-text-secondary">edited by PD admin</span></div></li><li><a jotid="wuid:gx:52a0425ce78e58d8" dir="ltr" href="http://www.puredarwin.org/news/pcnet32-driver-for-puredarwin">PCnet32 driver for PureDarwin</a><div><span class="sites-text-secondary">edited by PD admin</span></div></li><li class="sites-sidebar-recent-activity-viewall"><a href="/system/app/pages/recentChanges">View All</a></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_08458635257557034" class="sites-embed"><div class="sites-embed-content-notitle"><span jotId="content"><p><script type="text/javascript">
<!--
google_ad_client="pub-3519492571996731";
google_ad_host="pub-6693688277674466";
google_ad_width=120;
google_ad_height=600;
google_ad_format="120x600_as";
google_ad_type="text_image";
google_color_border="FFFFFF";
google_color_bg="FFFFFF";
google_color_link="000000";
google_color_url="4E7DBF";
google_color_text="5E6A72";
//-->
</script>
<script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</p></span></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
</div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr">VirtualBox archive</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div><b><font size="5">as of 2011 January: Virtualbox runs with PureDarwin nano</font></b></div><div><b>please see: </b><a href="http://www.puredarwin.org/developers/virtualbox">http://www.puredarwin.org/developers/virtualbox</a></div><div><b><br /></b></div><div><b><br /></b></div><div><b>the following info is kept here for historical reasons!</b></div><div><b><br /></b></div><div><b><br /></b></div><div><b><span style="font-family:Arial,sans-serif;font-weight:normal"><div>(Pure)Darwin 9 guest OS <b><font color="#ff0000">not supported</font></b> or it does NOT seem to be trivial to make it work properly.</div>
<div>No problem concerning loading the bootloader.</div>
<div>Latest versions tested:<br />
<ul><li>VirtualBox 3.0.2 on Mac OS X</li>
<li>VirtualBox 3.0.6 on Windows XP 32 bits</li></ul></div></span></b></div>
<div><b><br /></b></div>
<div><b>Problem:</b> black screen at kernel loading (just after kexts decompression), framebuffer unsupported?</div><h2 style="text-align:left"><a name="TOC-Settings"></a>Settings</h2><h3><a name="TOC-VirtualBox-random-settings"></a>VirtualBox random settings</h3>Set up "OS Type" variable as a "FreeBSD" machine.<br />VT-x/AMD-v is a must.<br />
(ACPI must be disabled)<br />
PAE/NX seems to be needed<sup>1</sup> and enabled<sup>2</sup><br />
(please add more text)<h4><a name="TOC-Physical-Address-Extension-PAE-"></a>Physical Address Extension (PAE)</h4><div>"<span style="font-style:italic">Physical addresses greater than 32 bits are supported:</span></div>
<div><span style="font-style:italic">extended page table entry formats, an extra level in the page translation tables is defined, 2-MByte pages are supported instead of 4 Mbyte pages if PAE bit is 1.</span></div>
<div><span style="font-style:italic">The actual number of address bits beyond 32 is not defined, and is implementation-specific.</span>" said Intel MacCPUID.app.</div>
<div><h2><a name="TOC-Boot"></a>Boot</h2><div><h3><a name="TOC-Boot-arguments"></a>Boot arguments</h3><i>-v</i> is not needed since it is enabled by default.<br />
(please add more text)</div><h3><a name="TOC-dfe-bootloader"></a>dfe bootloader</h3></div><div><u>Note:</u> Pressing <i>?</i> + <i>Enter </i>does NOT give any output.<br />
<br />
<div style="display:block;text-align:left"><img height="248" src="http://www.puredarwin.org/_/rsrc/1217284235961/developers/virtualbox/virtualbox%20bootloader.png?height=248&amp;width=420" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px" width="420" /></div><h4><a name="TOC-video-flag"></a>?video flag</h4></div>
<div><span style="font-style:italic">?video</span> works in booter and returns:</div>
<div><br /></div>
<div><div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/virtualbox/video.png?attredirects=0" imageanchor="1" style="color:rgb(78,125,191);background-color:transparent;border-bottom-style:none;border-bottom-width:0px;border-bottom-color:initial;border-top-width:0px;border-right-width:0px;border-left-width:0px;background-repeat:initial initial"><img height="376" src="http://www.puredarwin.org/_/rsrc/1217701995353/developers/virtualbox/video.png?height=376&amp;width=420" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-style:initial;border-color:initial;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px" width="420" /></a></div></div>
<div><br /></div>
<div><span style="text-decoration:underline">Note:</span> Passing kernel flag "Graphics Mode"="&lt;value&gt;" also seems to work.</div><h4><a name="TOC-memory-flag"></a>?memory flag</h4><div><div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/virtualbox/memory.png?attredirects=0" imageanchor="1" style="color:rgb(78,125,191);background-color:transparent;border-bottom-style:none;border-bottom-width:0px;border-bottom-color:initial;border-top-width:0px;border-right-width:0px;border-left-width:0px;background-repeat:initial initial"><img height="79" src="http://www.puredarwin.org/_/rsrc/1217702113592/developers/virtualbox/memory.png?height=79&amp;width=420" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-style:initial;border-color:initial;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px" width="420" /></a></div><br /></div>
<div>A bit obscure...</div>
<div><span style="color:rgb(255,0,0)">Please let us know if you know about this.</span></div><h4><a name="TOC-SMBIOS-table-not-found"></a>SMBIOS table not found</h4><div>Then it fails, attempting to find SMBIOS table.<br />
<br />
<div style="display:block;text-align:left"><img height="264" src="http://www.puredarwin.org/_/rsrc/1217285927363/developers/virtualbox/UnableToFindSMBIOSTable.png?height=264&amp;width=420" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px" width="420" /></div><span style="border-collapse:separate;font-family:Verdana;font-size:12px;line-height:18px"><p style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;font-family:Helvetica;font-style:normal;font-variant:normal;font-weight:normal;font-size:12px;line-height:normal"><br /></p></span>After using booter <span style="font-style:italic">boot-132_dfe_r146</span> (instead of <span style="font-style:italic">dfe_r28</span> version) from David Elliott, another problematic error is raised about the determination of the CPU:FSB multiplier (0 is found...).<div><br />
<div><div style="display:block;text-align:left"><img height="264" src="http://www.puredarwin.org/_/rsrc/1217620838320/developers/virtualbox/CPU_FSB_multiplier_equal_0.png?height=264&amp;width=420" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px" width="420" /></div><br />Pressing 'y' leads irremediably to a (resized) blank screen, full cpu load, and a critical error forcing the user to power off the vm.<br />
<br />
<div>See corresponding VirtualBox log of pressing 'y':</div>
<div><br />
<span style="font-family:courier new,monospace"><span style="font-size:small">00:00:03.572 Display::handleDisplayResize(): uScreenId = 0, pvVRAM=184d9000 w=640 h=480 bpp=32 cbLine=0xA00<br />
00:00:05.906 Guest Log: Key pressed: 0086<br />
00:00:05.942 Display::handleDisplayResize(): uScreenId = 0, pvVRAM=00000000 w=720 h=400 bpp=0 cbLine=0x0</span></span></div>
<div><span style="font-family:courier new,monospace"><span style="font-size:small">00:00:09.600 Guest Log: Key pressed: 002E</span></span></div>
<div><br /></div>
<div><span style="font-weight:bold"><span style="color:rgb(255,0,0)">Please, let us know if you have a solution.</span></span></div><h3><a name="TOC-Chameleon-bootloader-and-Voodoo-kernel"></a>Chameleon bootloader and Voodoo kernel</h3><div><span style="font-weight:bold"><span style="color:rgb(255,0,0)"><span style="color:rgb(0,0,0);font-weight:normal">Other developers have made other attempts, such as combining xnu-dev kernel (Voodoo BETA 2b ) and chameleon bootloader (v1.0.11).</span></span></span></div>
<div>We can bypass the error above about CPU:FSB multiplier with the boot argument <span style="font-style:italic">busratio=...</span></div>
<div><br /></div>
<div><div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/virtualbox/Virtualbox%20voodoo%20chameleon%20bootloader.png?attredirects=0" imageanchor="1" style="color:rgb(78,125,191);background-color:initial;border-bottom-style:none;border-bottom-width:initial;border-bottom-color:initial;background-repeat:initial initial"><img border="0" height="263" src="http://www.puredarwin.org/_/rsrc/1226191734836/developers/virtualbox/Virtualbox%20voodoo%20chameleon%20bootloader.png?height=263&amp;width=420" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-style:initial;border-color:initial;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px" width="420" /></a></div><div style="display:block;text-align:left"><br /></div><div style="display:block;text-align:left">With ACPI enabled in VirtualBox, the vm hangs at "Local APIC version not 0x14 as expected":</div><div style="display:block;text-align:left"><div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/virtualbox/Virtualbox%20voodoo%20chameleon%20ACPI.png?attredirects=0" imageanchor="1" style="color:rgb(78,125,191);background-color:initial;border-bottom-style:none;border-bottom-width:initial;border-bottom-color:initial;background-repeat:initial initial"><img border="0" height="122" src="http://www.puredarwin.org/_/rsrc/1226191756456/developers/virtualbox/Virtualbox%20voodoo%20chameleon%20ACPI.png?height=122&amp;width=420" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-style:initial;border-color:initial;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px" width="420" /></a></div><br /></div>
<div style="display:block;text-align:left">Without ACPI, it complains about and irremediably lead to a kernel panic.</div><span style="font-weight:bold"><div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/virtualbox/Virtualbox%20voodoo%20chameleon%20NOACPI.png?attredirects=0" imageanchor="1" style="color:rgb(78,125,191);background-color:initial;border-bottom-style:none;border-bottom-width:initial;border-bottom-color:initial;background-repeat:initial initial"><img border="0" height="239" src="http://www.puredarwin.org/_/rsrc/1226191822137/developers/virtualbox/Virtualbox%20voodoo%20chameleon%20NOACPI.png?height=239&amp;width=420" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-style:initial;border-color:initial;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px" width="420" /></a><span style="font-weight:normal"><br /><h3><a name="TOC-Troubleshooting"></a>Troubleshooting</h3></span>Problem: <span style="font-weight:normal">"Unable to find SMBIOS table"<br />
</span>Solution 0: <span style="font-weight:normal">So, need another BIOS (with correct offset)?</span></div>
<div style="display:block;text-align:left"><span style="font-weight:normal">Another solution would be to use the host SMBIOS table, or a copy of it.<br /></span>
<span style="font-weight:normal">See <a href="http://www.virtualbox.org/ticket/1751" rel="nofollow" style="color:rgb(78,125,191)">http://www.virtualbox.org/ticket/1751</a> for more information.<br />
</span>Solution 1: <span style="font-weight:normal">It still remains possible to modify and recompile the VirtualBox sources in order to give a correct SMBIOS.<br /></span>
<span style="font-weight:normal">See VirtualBox/src/VBox/Devices/PC/DevPcBios.cpp<br />
<div>Solution 2: use another kernel (xnu-dev) and/or another bootloader (chameleon)<div><h4><a name="TOC-Machine-Specific-Registers-MSR-About-MSR-"></a>Machine Specific Registers (MSR)About MSR?</h4>"The processor provides a variety of machine specific registers (accessed via the RDMSR and WRMSR instructions) that are used to control and report on processor performance. Virtually all MSRs handle system related functions and are not accessible to an application program. One exception to this rule is the time-stamp counter." said Intel MacCPUID.app.</div><h4><a name="TOC-CPU:FSB-multiplier"></a>CPU:FSB multiplier</h4><div>According to Wikipedia: "<i>The clock multiplier (or CPU multiplier or bus/core ratio) is the ratio of the internal CPU clock rate to the frequency of its external address/data bus, today often termed front side bus(FSB). A system with a CPU multiplier of 10x will have its CPU execute 10 complete cycles for every cycle of its FSB. For example, a system with an FSB running at 133 MHz and a clock multiplier of 10x, the CPU will run at 1.33 GHz</i>."</div></div></span></div></span>
<div><br />CPU model seems OK:</div>
<div><div><span style="font-family:courier new,monospace"><span style="font-size:small">00:00:02.889 Full Name:                       Intel(R) Core(TM)2 CPU         T7400  @ 2.16GHz</span></span></div><h4><a name="TOC-T7400-specs-example"></a>T7400 specs example</h4><ul><li><span style="font-weight:bold">FSB:</span> 667 Mhz</li>
<li><span style="font-weight:bold">Multiplier:</span> 13x</li></ul><h4><a name="TOC-Auto-resize-and-blank-screen"></a>Auto resize and blank screen</h4><div>The highlighted line could explain why suddenly the screen is auto resized, and consequently why the screen goes blank.</div>
<i><span style="font-style:normal"><div><br /></div></span></i>
<div><span style="font-family:courier new,monospace"><span style="color:rgb(153,153,153)"><span style="font-size:small">00:00:09.666 Guest Log: BIOS: Booting from CD-ROM...</span></span></span></div>
<div><i><span style="font-style:normal"><div><div><span style="font-family:courier new,monospace"><span style="font-size:small">00:00:58.579 Display::handleDisplayResize(): uScreenId = 0, pvVRAM=184d9000 w=1024 h=768 bpp=32 cbLine=0x1000</span></span></div><div><span style="font-family:courier new,monospace"><span><span style="font-size:small">00:00:58.608 VERR_REM_TOO_MANY_TRAPS -&gt; uTrap=d error=6a next_eip=ffe01890 eip=ffe01890 cr2=ffe01890</span></span></span></div><div><span style="font-family:courier new,monospace"><span style="color:rgb(153,153,153)"><span style="font-size:small">00:00:58.608 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="color:rgb(153,153,153)"><span style="font-size:small">00:00:58.608 !!</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="color:rgb(153,153,153)"><span style="font-size:small">00:00:58.608 !!                 Guru Meditation -2304 (VERR_REM_TOO_MANY_TRAPS)</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="color:rgb(153,153,153)"><span style="font-size:small">00:00:58.608 !!</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="color:rgb(153,153,153)"><span style="font-size:small">00:00:58.608 !!</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="color:rgb(153,153,153)"><span style="font-size:small">00:00:58.608 !! {mappings, &lt;NULL&gt;}</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="color:rgb(153,153,153)"><span style="font-size:small">00:00:58.608 !!</span></span></span></div>
<div><span style="font-family:courier new,monospace"><span style="color:rgb(153,153,153)"><span style="font-size:small">00:00:58.608 </span></span></span></div>
<div> </div></div>
<div><span style="font-size:20px;font-weight:bold">Footnotes</span></div></span></i><sup>1</sup>Why is it that PAE/NX seems to be needed?<br /><br />
<div style="display:block;text-align:left"><a href="http://www.puredarwin.org/developers/virtualbox/ExperimentalPAE.png?attredirects=0" style="color:rgb(78,125,191);border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;background-color:transparent"><img src="http://www.puredarwin.org/_/rsrc/1217285973856/developers/virtualbox/ExperimentalPAE.png" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-style:initial;border-color:initial;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px" /></a><br /><br />
<sup>2</sup>How to enable PAE/NX?<br /><br />
Via command-line, assuming <span style="font-family:courier new,monospace"><span style="font-size:small"><font size="2">PureDarwin</font></span></span> is the name of your vm:<br />
<br />
<span style="font-family:courier new,monospace"><font size="2"><span style="font-size:small">/Applications/VirtualBox.app/Contents/MacOS/</span></font><span style="font-size:small"><font size="2">VBoxManage modifyvm PureDarwin -pae on</font><br /><br /></span></span>
Via gui, a simple checkbox in the settings.<br />
<h2><a name="TOC-Ressources"></a>Ressources</h2><a href="http://alex.csgraf.de/self/?part/projects&amp;folder/Qemu%20OSX&amp;type/&amp;project/projects&amp;parameters/id=Qemu%20OSX/qemu" rel="nofollow" style="color:rgb(78,125,191)">http://alex.csgraf.de/self/?part/projects&amp;folder/Qemu%20OSX&amp;type/&amp;project/projects&amp;parameters/id=Qemu%20OSX/qemu</a><br />
<a href="http://www.virtualbox.org/ticket/1071" rel="nofollow" style="color:rgb(78,125,191)">http://www.virtualbox.org/ticket/1071</a><br />
<a href="http://www.virtualbox.org/ticket/1751" rel="nofollow" style="color:rgb(78,125,191)">http://www.virtualbox.org/ticket/1751</a> (Allow SMBIOS information to be copied from host)<br />
<br />
<a href="http://softwarecommunity.intel.com/articles/eng/1107.htm" rel="nofollow" style="color:rgb(78,125,191)">http://softwarecommunity.intel.com/articles/eng/1107.htm</a> (MacCPUID.app)</div>
<div style="display:block;text-align:left"><br /></div>
<div style="display:block;text-align:left"><a href="http://code.google.com/p/xnu-dev" style="color:rgb(78,125,191)" target="_blank">http://code.google.com/p/xnu-dev</a> / (A fork of the XNU kernel)</div></div></div></div></div></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=http://sites.google.com/a/puredarwin.org/puredarwin/virtualbox-archive">Sign in</a>|<a class="sites-system-link" href="/system/app/pages/reportAbuse" target="_blank">Report Abuse</a>|<a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a>|<a class="sites-system-link" href="/system/app/pages/removeAccess" target="_blank">Remove Access</a>|<span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>

<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="http://www.gstatic.com/sites/p/d24ef8/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
    
        sites.core.Analytics.createTracker();
        sites.core.Analytics.trackPageview();
      
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("5443624057807028", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_5443624057807028');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
          JOT_addListener('titleChange', 'JOT_RECENTCHANGES_titleChange', 'COMP_8098985916003585');
        </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXuiEJWuCB_LZagUAJWJE5fSAeie3STAS7tAHgFfprp4c5f28leJnscl1hqVRABeZJ1T-_l6lmGUkv1N2lBaQ7251kn1Db0nboZS-CnKO_UhDnR3N8WUMaLUbWWszMKUGMRmXnLY/api/js?anon=true', true, true,
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('http://www.puredarwin.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type;
                      window.jstiming.report(loadTimer, {}, 'http://csi.gstatic.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
 //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
              JOT_postEvent('renderPlus', null, 'sites-chrome-main');
            </script>
<div id="server-timer-div" style="display:none"> </div>
<script>
          window.jstiming.load.tick('render');
        </script>
</body>
</html>
